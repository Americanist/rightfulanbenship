
maskedbutcher_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = H81
	}

	H81_maskedbutcher_all_the_world = {
		icon = mission_burning_man
		required_missions = {

		}
		position = 1

		provinces_to_highlight = {
			AND = {
				OR = {
					area = orlghelovar_area
					area = south_altar_area
					area = north_altar_area
					area = argrod_origin_area
					province_id = 4093
					province_id = 2942
					province_id = 2943
				}
				is_empty = no
				NOT = {
					owned_by = ROOT
				}
			}
		}

		trigger = {
			has_institution = feudalism
			custom_trigger_tooltip = {
				tooltip = mb_world_serpentreach_tt
				AND = {
					orlghelovar_area = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
					south_altar_area = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
					north_altar_area = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
					argrod_origin_area = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
					4093 = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
					2942 = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
					2943 = {
						OR = {
							is_empty = yes
							owns_or_non_sovereign_subject_of = ROOT
						}
					}
				}
			}
		}

		effect = {
			custom_tooltip = mb_discover_west_tt
			add_country_modifier = {
				name = mb_empty_stage
				duration = 9125
			}
			hidden_effect = {
				orlghelovar_area = {
					discover_country = ROOT
				}
				south_altar_area = {
					discover_country = ROOT
				}
				north_altar_area = {
					discover_country = ROOT
				}
				argrod_origin_area = {
					discover_country = ROOT
				}
				4093 = {
					discover_country = ROOT
				}
				2942 = {
					discover_country = ROOT
				}
				2943 = {
					discover_country = ROOT
				}
			}
		}
	}

	H81_maskedbutcher_deepwoken = {
		icon = mission_burning_man
		required_missions = {
			H81_maskedbutcher_all_the_world
		}
		position = 2

		trigger = {
			OR = {
				AND = {
					OR = {
						employed_advisor = {
							category = ADM
							skill = 2
						}
						employed_advisor = {
							category = DIP
							skill = 2
						}
					}
					OR = {
						national_focus = ADM
						national_focus = DIP
					}
				}
				AND = {
					employed_advisor = {
						category = MIL
						skill = 2
					}
					manpower = 10
					num_of_generals = 1
					army_size_percentage = 1
					national_focus = MIL
				}
			}
		}

		effect = {
			custom_tooltip = mb_d_deepwoken
			custom_tooltip = mb_d_deepwoken_nochoice
			serpentreach_region = {
				discover_country = ROOT
			}
			set_country_flag = mb_deepwoken_reward_flg
			if = {
				limit = {
					national_focus = MIL
				}
				add_manpower = -10
				set_country_flag = mb_deepwoken_mil_flg
			}
		}
	}

}

maskedbutcher_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = H81
	}

	H81_maskedbutcher_cauldron = {
		icon = mission_burning_man
		required_missions = {
			H81_maskedbutcher_and_ye_shall_find
			H81_maskedbutcher_deepwoken
		}
		position = 3

		trigger = {
			OR = {
				reform_level = 5
				NOT = {
					government = tribal
				}
			}
		}

		effect = {
			change_government = theocracy
			add_government_reform = abyssal_otardom_reform
		}
	}

}

maskedbutcher_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = H81
	}

	H81_maskedbutcher_seek = {
		icon = mission_burning_man
		required_missions = {

		}
		position = 1

		trigger = {
			check_variable = {
				expeditions_completed_var = 2
			}
			OR = {
				reform_level = 2
				NOT = {
					government = tribal
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = mb_with_the_territory
				duration = 18250
			}
			4033 = {
				set_province_flag = mb_vampire_expedition_flag
				spawn_expedition = yes
			}
		}
	}

	H81_maskedbutcher_and_ye_shall_find = {
		icon = mission_burning_man
		required_missions = {
			H81_maskedbutcher_seek
		}
		position = 2

		provinces_to_highlight = {
			AND = {
				province_id = 4033
				4033 = {
					has_province_modifier = expedition_target
				}
			}
		}

		trigger = {
			custom_trigger_tooltip = {
				tooltip = mb_expeditiondone_tt
				has_country_flag = mb_expedition_done_flag
			}
			stability = 2
			OR = {
				prestige = 60
				power_projection = 30
			}
		}

		effect = {
			add_country_modifier = {
				name = mb_contagion
				duration = 18250
			}
		}
	}

	H81_maskedbutcher_crucible = {
		icon = mission_burning_man
		required_missions = {
			H81_maskedbutcher_and_ye_shall_find
		}
		position = 3

		provinces_to_highlight = {
			AND = {
				province_id = 4033
				4033 = {
					NOT = {
						owned_by = ROOT
					}
				}
			}
		}

		trigger = {
			OR = {
				capital = 2942
				capital = 4093
				capital = 4238
			}
			4033 = {
				owned_by = ROOT
			}
			OR = {
				check_variable = {
					expeditions_completed_var = 5
				}
				serpentreach_region = {
					type = all
					OR = {
						owned_by = ROOT
						is_capital = no
					}
				}
			}
		}

		effect = {
			custom_tooltip = mb_moonlight_tt
			4033 = {
				set_province_flag = mb_moonlight_province_flg
			}
			hidden_effect = {
				country_event = {
					id = flavour_maskedbutcher.101
				}
			}
		}
	}

	H81_maskedbutcher_dark_below = {
		icon = mission_burning_man
		required_missions = {
			H81_maskedbutcher_cauldron
			H81_maskedbutcher_crucible
		}
		position = 4

		provinces_to_highlight = {

		}

		trigger = {
			custom_trigger_tooltip = {
				tooltip = mb_dark_serpentreach_tt
				AND = {
					orlghelovar_area = {
						owns_or_non_sovereign_subject_of = ROOT
					}
					south_altar_area = {
						owns_or_non_sovereign_subject_of = ROOT
					}
					north_altar_area = {
						owns_or_non_sovereign_subject_of = ROOT
					}
					argrod_origin_area = {
						owns_or_non_sovereign_subject_of = ROOT
					}
					4093 = {
						owns_or_non_sovereign_subject_of = ROOT
					}
					2942 = {
						owns_or_non_sovereign_subject_of = ROOT
					}
					2943 = {
						owns_or_non_sovereign_subject_of = ROOT
					}
				}
			}
			OR = {
				capital = 2942
				capital = 4093
				capital = 4238
			}
			if = {
				limit = {
					capital = 2942
				}
				AND = {
					owns_core_province = 4093
					4093 = { 
						has_province_modifier = blorc_plunder_camp
						has_fort_building_trigger = yes
					}
					owns_core_province = 4238
					4238 = { 
						has_province_modifier = blorc_plunder_camp
						has_fort_building_trigger = yes
					}
				}
			}
			else_if = {
				limit = {
					capital = 4093
				}
				AND = {
					owns_core_province = 2942
					2942 = { 
						has_province_modifier = blorc_plunder_camp
						has_fort_building_trigger = yes
					}
					owns_core_province = 4238
					4238 = { 
						has_province_modifier = blorc_plunder_camp
						has_fort_building_trigger = yes
					}
				}
			}
			else_if = {
				limit = {
					capital = 4238
				}
				AND = {
					owns_core_province = 2942
					2942 = { 
						has_province_modifier = blorc_plunder_camp
						has_fort_building_trigger = yes
					}
					owns_core_province = 4093
					4093 = { 
						has_province_modifier = blorc_plunder_camp
						has_fort_building_trigger = yes
					}
				}
			}
		}

		effect = {
			set_country_flag = mb_dark_below_flag
			swap_non_generic_missions = yes
			country_event = {
				id = flavour_maskedbutcher.2
			}
		}
	}
}

maskedbutcher_missions_4 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = H81
	}
}