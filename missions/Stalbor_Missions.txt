#Designed and coded by: Nilsoop

B47_stalbor_column_1 = {
    slot = 1
    generic = no
	ai = yes
    has_country_shield = yes

    potential = {
		tag = B47
    }

    B47_deepwood_gateway = {
        icon = mission_court_education
		position = 3
		required_missions = {
			B47_bladeskeep_and_the_watch
		}

        trigger = {
            banesfork_area = {
                type = all
				owned_by = ROOT
                is_core = ROOT
            }
            beastgrave_area = {
                type = all
				owned_by = ROOT
                is_core = ROOT
            }
            OR = {
                AND = {
                    high_tolerance_elven_race_trigger = yes
                    any_owned_province = {
                        OR = {
                            has_elven_minority_trigger = yes
                            has_elven_majority_trigger = yes
                        }
                    }
                }
                AND = {
                    any_known_country = { 
                        has_country_modifier = elven_administration
                        has_opinion = {
                            who = ROOT
                            value = 150
                        }
                    }
                    OR = {
                        advisor = diplomat
                        advisor = statesman
                    }
                }
            }
        }

        effect = {
            banesfork_area = {
                type = all
				add_elven_minority_size_effect = yes
            }
            beastgrave_area = {
                type = all
				add_elven_minority_size_effect = yes
            }
            west_deepwoods_region = {
                type = all
                discover_country = B47
            }
            every_country = {
                limit = {
                    capital_scope = {
                        region = west_deepwoods_region
                    }
                    has_country_modifier = elven_administration
                }
                add_opinion = {
                    who = ROOT
                    modifier = B47_elven_diplomat
                }
                south_castanor_region = {
                    discover_country = PREV
                }
            }
        }
    }

    B47_deepwood_relations = {
        icon = mission_court_education
		position = 4
		required_missions = {
			B47_deepwood_gateway
		}

        trigger = {
            OR = {
                any_ally = {
                    has_country_modifier = elven_administration
                    has_opinion = {
                        who = ROOT
                        value = 190
                    }
                    capital_scope = {
                        region = west_deepwoods_region
                    }
                }
                any_subject_country = {
                    has_country_modifier = elven_administration
                    capital_scope = {
                        region = west_deepwoods_region
                    }
                }
                all_known_country = {
                    NOT = { has_country_modifier = elven_administration }
                    capital_scope = {
                        NOT = { region = west_deepwoods_region }
                    }
                }
            }
        }

        effect = {
            every_known_country = {
                limit = {
                    has_country_modifier = elven_administration
                    has_opinion = {
                        who = ROOT
                        value = 190
                    }
                    capital_scope = {
                        region = west_deepwoods_region
                    }
                }
                country_event = {
                    id = flavor_stalbor.9
                }
            }
        }
    }

}

B47_stalbor_column_2 = {
    slot = 2
    generic = no
	ai = yes
    has_country_shield = yes

    potential = {
		tag = B47
    }

    B47_the_early_cuirassiers = {
        icon = mission_court_education
		position = 3
		required_missions = {
			B47_bladeskeep_and_the_watch
		}

        trigger = {
            OR = {
                any_owned_province = {
                    trade_goods = livestock
                    development = 10
                    has_production_building_trigger = yes
                }  
                any_ally = { 
                    any_owned_province = {
                        trade_goods = livestock
                    }
                    has_opinion = {
                        who = ROOT
                        value = 150
                    }
                }
            }
            OR = {
                army_tradition = 30
                army_professionalism = 0.15
            }
        }

        effect = {
            add_country_modifier = {
                name = B47_the_early_cuirassiers
                duration = -1
            }
        }

    }
}

B47_stalbor_column_3 = {
    slot = 3
    generic = no
	ai = yes
    has_country_shield = yes

    potential = {
		tag = B47
    }

    B47_southern_heartland = {
		icon = mission_court_education
		position = 1
		required_missions = {
			
		}

        trigger = {
            vernham_area = {
                type = all
				owned_by = ROOT
                is_core = ROOT
            }
            oudeben_area = {
                type = all
				owned_by = ROOT
                is_core = ROOT
            }
            clovenwood_area = {
                type = all
				owned_by = ROOT
                is_core = ROOT
            }
            mil_power = 50
        }

        effect = {
            set_capital = 808
            808 = {
                if = {
                    limit = {
                        has_fort_building_trigger = no
                    }
                    add_building_construction = {
                        building = fort_15th
                        speed = 1
                        cost = 0
                    }
                }
            }
            blademarch_area = {
                type = all
                add_permanent_claim = ROOT
            }
            banesfork_area = {
                type = all
                add_permanent_claim = ROOT
            }
            beastgrave_area = {
                type = all
                add_permanent_claim = ROOT
            }
            add_mil_power = -50
            define_general = {
                fire = 1
                shock = 3
                manuever = 1
                siege = 3
                trait = siege_specialist_personality
            }
        }
    }

    B47_bladeskeep_and_the_watch = {
		icon = mission_court_education
		position = 2
		required_missions = {
			B47_southern_heartland
		}

        trigger = {
            blademarch_area = {
                type = all
				owned_by = ROOT
                is_core = ROOT
            }
            manpower = 5
            817 = { has_fort_building_trigger = yes }
        }

        effect = {
            country_event = {
                id = flavor_stalbor.4
            }
            add_manpower = -5

            themin_area = {
                type = all
                add_permanent_claim = ROOT
            }
            humacvord_area = {
                type = all
                add_permanent_claim = ROOT
            }
            burnoll_area = {
                type = all
                add_permanent_claim = ROOT
            }
        }
    } 

    B47_regional_security = {
		icon = mission_court_education
		position = 3
		required_missions = {
			B47_bladeskeep_and_the_watch
		}

        trigger = {
            OR = {
                barracks = 5
                training_fields = 5
            }

            OR = {
                any_known_country = {
                    capital_scope = {
                        region = south_castanor_region
                    }
                    has_spy_network_from = {
                        who = ROOT
                        value = 20
                    }
                }
                all_country = { 
                    capital_scope = {
                        NOT = { region = south_castanor_region }
                    }
                }
            }

            any_known_country = {
                capital_scope = {
                    OR = {
                        region = inner_castanor_region
                        region = west_castanor_region
                    }
                }
                has_opinion = {
                    who = ROOT
                    value = 200
                }
            }

            themin_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            humacvord_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            burnoll_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }

        }

        effect = {
            add_country_modifier = {
                name = B47_southern_conquest
                duration = 9125
            }
            south_castanor_region = {
                type = all
                add_permanent_claim = ROOT
            }
        }
    } 
    B47_western_heartland = {
		icon = mission_court_education
		position = 4
		required_missions = {
			B47_regional_security
		}

        trigger = {
            dostans_way_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            devaced_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            catelsvord_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            oudmerewood_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            793 = {
                has_manpower_building_trigger = yes
                province_has_current_tech_fort_trigger = yes
            }
        }

        effect = {
            793 = {
                add_permanent_province_modifier = {
                    name = arturos_watch_chapter
                    duration = -1
                }
            }
            hidden_effect = {
                if = {
                    limit = {
                        NOT = { has_country_flag = blademarch_uprising_stalbor }
                    }
                    country_event = {
                        id = flavor_stalbor.5
                    }
                    set_country_flag = blademarch_uprising_stalbor
                }
            }
        }
    }
}

B47_stalbor_column_4 = {
    slot = 4
    generic = no
	ai = yes
    has_country_shield = yes

    potential = {
		tag = B47
    }

    B47_eastern_heartland = {
		icon = mission_court_education
		position = 4
		required_missions = {
			B47_regional_security
		}

        trigger = {
            escerfork_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            swapstoke_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            medirleigh_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            hornwood_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            dryadsdale_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            doewood_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            marrhold_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
            }
            888 = {
                has_manpower_building_trigger = yes
                province_has_current_tech_fort_trigger = yes
            }
            4097 = {
                has_manpower_building_trigger = yes
                province_has_current_tech_fort_trigger = yes
            }
        }

        effect = {
            888 = {
                add_permanent_province_modifier = {
                    name = arturos_watch_chapter
                    duration = -1
                }
                add_province_modifier = {
                    name = B47_eastern_rebuilding
                    duration = 3650
                }
            }
            4097 = {
                add_permanent_province_modifier = {
                    name = arturos_watch_chapter
                    duration = -1
                }
                add_province_modifier = {
                    name = B47_eastern_rebuilding
                    duration = 3650
                }
            }
            hidden_effect = {
                if = {
                    limit = {
                        NOT = {
                            has_country_flag = blademarch_uprising_stalbor
                        }
                    }
                    country_event = {
                        id = flavor_stalbor.5
                    }
                    set_country_flag = blademarch_uprising_stalbor
                }
            }
        }
    }
}

B47_stalbor_column_5 = {
    slot = 5
    generic = no
	ai = yes
    has_country_shield = yes

    potential = {
		tag = B47
    }

    B47_beginnings_of_a_city = {
		icon = mission_court_education
		position = 2
		required_missions = {
			B47_southern_heartland
		}

        trigger = {
            808 = {
                has_tax_building_trigger = yes
                has_production_building_trigger = yes
                has_manpower_building_trigger = yes
                development = 10
            }
            800 = {
                has_tax_building_trigger = yes
                has_production_building_trigger = yes
                has_manpower_building_trigger = yes
                development = 10
            }
        }

        effect = {
            808 = {
                add_permanent_province_modifier = {
                    name = vernham_urbanization_I
                    duration = -1
                }
                add_permanent_province_modifier = {
                    name = arturos_watch_chapter
                    duration = -1
                }
            }
            800 = {
                add_permanent_province_modifier = {
                    name = vernham_urbanization_I
                    duration = -1
                }
            }
        }
    }

    B47_Orc_&_Goblin_Integration = {
        icon = mission_court_education
		position = 3
		required_missions = {
			B47_beginnings_of_a_city
            B47_bladeskeep_and_the_watch
		}

        trigger = {
            OR = {
                high_tolerance_goblin_race_trigger = yes
                AND = {
                    any_known_country = {
                        has_country_modifier = goblin_administration
                        has_opinion = {
                            who = ROOT
                            value = 100
                        }
                    }
                    dip_power = 50
                }
            }
            OR = {
                high_tolerance_orcish_race_trigger = yes
                AND = {
                    any_known_country = {
                        has_country_modifier = orcish_administration
                        has_opinion = {
                            who = ROOT
                            value = 100
                        }
                    }
                    dip_power = 50
                }
            }
        }

        effect = {

        }

    }
}
