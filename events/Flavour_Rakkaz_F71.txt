namespace = flavour_rakkaz

#Making True To Our Name
country_event = {
	id = flavour_rakkaz.0
	title = flavour_rakkaz.0.t
	desc = flavour_rakkaz.0.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.0.a
		U09 = {
			declare_war_with_cb = {
				who = F71
				casus_belli = cb_monster_vs_civ
			}
		}
	}

	option = {
		name = flavour_rakkaz.0.b
		F69 = { country_event = { id = flavour_rakkaz.1 } }
	}
}

#A Request Of Help
country_event = {
	id = flavour_rakkaz.1
	title = flavour_rakkaz.1.t
	desc = flavour_rakkaz.1.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.1.a
		ai_chance = { factor = 100 }
		U09 = { 
			declare_war_with_cb = {
				who = F71
				casus_belli = cb_monster_vs_civ
			}
		}
		join_all_defensive_wars_of = F71
		F71 = { set_country_flag = rakkaz_irkorzik_joined_war }
	}

	option = {
		name = flavour_rakkaz.1.b
		ai_chance = { factor = 0 }
		U09 = { 
			declare_war_with_cb = {
				who = F71
				casus_belli = cb_monster_vs_civ
			}
			add_opinion = {
				who = F69
				modifier = refused_join_war
			}
		}
	}
}

#Strange Happenings In The Pack
country_event = {
	id = flavour_rakkaz.2
	title = flavour_rakkaz.2.t
	desc = flavour_rakkaz.2.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.2.a
		add_legitimacy_equivalent = { amount = -20 republican_tradition = -10 }
	}
}

#Drastic Increase In Sacrifices
country_event = {
	id = flavour_rakkaz.3
	title = flavour_rakkaz.3.t
	desc = flavour_rakkaz.3.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.3.a
		random_owned_province = {
			add_base_tax = -1
		}
	}
}

#Spread Of Disobedience
country_event = {
	id = flavour_rakkaz.4
	title = flavour_rakkaz.4.t
	desc = flavour_rakkaz.4.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.4.a
		add_legitimacy_equivalent = { amount = -10 republican_tradition = -5 }
		add_prestige = -10
		set_country_flag = rakkaz_unlock_mission_1
		swap_non_generic_missions = yes
	}
}

#The Silent Coup
country_event = {
	id = flavour_rakkaz.5
	title = flavour_rakkaz.5.t
	desc = flavour_rakkaz.5.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.5.a
		hidden_effect = {
			remove_estate_privilege = estate_mages_organization_guilds
			remove_estate_privilege = estate_mages_organization_state
			unlock_estate_privilege = { estate_privilege = estate_mages_organization_rule_of_warlocks }
		}
		set_estate_privilege = estate_mages_organization_rule_of_warlocks
		set_country_flag = rakkaz_unlock_mission_2
		swap_non_generic_missions = yes
	}
}

#The Warlock's Mission
country_event = {
	id = flavour_rakkaz.6
	title = flavour_rakkaz.6.t
	desc = flavour_rakkaz.6.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { has_country_flag = F71_demon_missions }
			random_list = {
				70 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_demon_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_demon
				}
				30 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_hag_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_hag
				}
			}
		}
		else_if = {
			limit = { has_country_flag = F71_hag_missions }
			random_list = {
				30 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_demon_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_demon
				}
				70 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_hag_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_hag
				}
			}
		}
		else = {
			random_list = {
				50 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_demon_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_demon
				}
				50 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_hag_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_hag
				}
			}
		}
	}

	option = {
		name = flavour_rakkaz.6.a
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_unrest_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_unrest
	}

	option = {
		name = flavour_rakkaz.6.b
		trigger = {
			has_country_flag = rakkaz_rule_of_warlocks_advisor_demon
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_loot_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_loot
	}

	option = {
		name = flavour_rakkaz.6.b
		trigger = {
			has_country_flag = rakkaz_rule_of_warlocks_advisor_hag
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_loyalty_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_loyalty
	}

	option = {
		name = flavour_rakkaz.6.e
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_autonomy
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_autonomy_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_autonomy
	}

	option = {
		name = flavour_rakkaz.6.f
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_missionary
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_missionary_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_missionary
	}

	option = {
		name = flavour_rakkaz.6.g
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_demonpower
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_demonpower_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_demonpower
	}

	option = {
		name = flavour_rakkaz.6.h
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_churchpower
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_churchpower_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_churchpower
	}

	after = {
		if = {
			limit = { has_country_flag = rakkaz_level2_advisor }
			hire_advisor = {
				type = court_mage
				skill = 2
				discount = yes
			}
		}
		else = {
			hire_advisor = {
				type = court_mage
				skill = 1
			}
		}
	}
}

#The Warlock's Mission - Magocracy Version
country_event = {
	id = flavour_rakkaz.7
	title = flavour_rakkaz.7.t
	desc = flavour_rakkaz.7.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { has_country_flag = F71_demon_missions }
			random_list = {
				70 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_demon_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_demon
				}
				30 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_hag_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_hag
				}
			}
		}
		else_if = {
			limit = { has_country_flag = F71_hag_missions }
			random_list = {
				30 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_demon_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_demon
				}
				70 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_hag_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_hag
				}
			}
		}
		else = {
			random_list = {
				50 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_demon_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_demon
				}
				50 = {
					custom_tooltip = rakkaz_rule_of_warlocks_advisor_hag_tooltip
					set_country_flag = rakkaz_rule_of_warlocks_advisor_hag
				}
			}
		}
	}

	option = {
		name = flavour_rakkaz.7.a
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_unrest_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_unrest
	}

	option = {
		name = flavour_rakkaz.7.b
		trigger = {
			has_country_flag = rakkaz_rule_of_warlocks_advisor_demon
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_loot_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_loot
	}

	option = {
		name = flavour_rakkaz.7.b
		trigger = {
			has_country_flag = rakkaz_rule_of_warlocks_advisor_hag
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_loyalty_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_loyalty
	}

	option = {
		name = flavour_rakkaz.7.e
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_autonomy
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_autonomy_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_autonomy
	}

	option = {
		name = flavour_rakkaz.7.f
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_missionary
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_missionary_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_missionary
	}

	option = {
		name = flavour_rakkaz.7.g
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_demonpower
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_demonpower_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_demonpower
	}

	option = {
		name = flavour_rakkaz.7.h
		trigger = {
			has_country_flag = rakkaz_warlock_unlock_churchpower
		}
		custom_tooltip = rakkaz_rule_of_warlocks_advisor_churchpower_tooltip
		set_country_flag = rakkaz_rule_of_warlocks_advisor_churchpower
	}

	after = {
		if = {
			limit = { has_country_flag = rakkaz_level2_advisor }
			hire_advisor = {
				type = court_mage
				skill = 2
				discount = yes
			}
		}
		else = {
			hire_advisor = {
				type = court_mage
				skill = 1
			}
		}
	}
}

#Bloody Tears, A Sorrow Tainted Red
country_event = {
	id = flavour_rakkaz.8
	title = flavour_rakkaz.8.t
	desc = flavour_rakkaz.8.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.8.a
		set_country_flag = rakkaz_rule_of_warlocks_advisor_unrest
	}
}

#An Impass In The Council
country_event = {
	id = flavour_rakkaz.9
	title = flavour_rakkaz.9.t
	desc = flavour_rakkaz.9.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.9.a
		set_country_flag = F71_demon_missions
		if = {
			limit = { religion = xhazobkult }
			add_patriarch_authority = 0.1
		}
		else = {
			change_religion = xhazobkult
			add_country_modifier = {
				name = orc_conversion_zeal
				duration = 3650
			}
		}
		capital_scope = {
			spawn_rebels = {
				type = xhazobkult_rebels
				size = 2
				leader = rebel_preacher
			}
		}
		5466 = {
			spawn_rebels = {
				type = xhazobkult_rebels
				size = 2
				leader = rebel_preacher
			}
		}
		5481 = {
			spawn_rebels = {
				type = xhazobkult_rebels
				size = 2
				leader = rebel_preacher
			}
		}
	}

	option = {
		name = flavour_rakkaz.9.b
		set_country_flag = F71_hag_missions
		if = {
			limit = { religion = shadow_pact }
			add_patriarch_authority = 0.1
		}
		else = {
			change_religion = shadow_pact
			add_country_modifier = {
				name = orc_conversion_zeal
				duration = 3650
			}
		}
		capital_scope = {
			spawn_rebels = {
				type = shadow_pact_rebels
				size = 2
				leader = rebel_preacher
			}
		}
		5466 = {
			spawn_rebels = {
				type = shadow_pact_rebels
				size = 2
				leader = rebel_preacher
			}
		}
		5481 = {
			spawn_rebels = {
				type = shadow_pact_rebels
				size = 2
				leader = rebel_preacher
			}
		}
	}

	after = { remove_country_modifier = conversion_zeal }
}

#Raiding Kheterata
country_event = {
	id = flavour_rakkaz.10
	title = flavour_rakkaz.10.t
	desc = flavour_rakkaz.10.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		pick_best_tag = {
			global_trigger = "
				NOT = { tag = ROOT }
				region = kheterata_region
			"
			scale = total_development
			1 = yes
			event_target_name = "rakkaz_enemy"
		}
		event_target:rakkaz_enemy_1 = {
			save_global_event_target_as = rakkaz_enemy
		}
	}

	option = {
		name = flavour_rakkaz.10.a
		declare_war_with_cb = {
			casus_belli = cb_monster_vs_civ
			who = event_target:rakkaz_enemy
		}
	}

	option = {
		name = flavour_rakkaz.10.b
		add_stability_or_adm_power = yes
	}
}

#A Walking Abomination
country_event = {
	id = flavour_rakkaz.11
	title = flavour_rakkaz.11.t
	desc = flavour_rakkaz.11.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.11.a
		add_patriarch_authority = -0.1
		add_manpower = -10
		remove_country_modifier = rakkaz_increase_in_desertions
		add_country_modifier = {
			name = rakkaz_witherling_units
			duration = -1
		}
	}
}

#Increase In Desertions
country_event = {
	id = flavour_rakkaz.12
	title = flavour_rakkaz.12.t
	desc = flavour_rakkaz.12.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_rakkaz.12.a
		add_patriarch_authority = -0.1
		add_manpower = -10
		add_country_modifier = {
			name = rakkaz_increase_in_desertions
			duration = -1
		}
	}
}