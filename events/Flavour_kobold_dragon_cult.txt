namespace = flavour_kobold_dragon_cult

country_event = {
	id = flavour_kobold_dragon_cult.1
	title = flavour_kobold_dragon_cult.1.t
	desc = flavour_kobold_dragon_cult.1.d
	picture = KOBOLD_HOARD_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_variable = {
				which = dev2add
				value = 0
			}
			export_to_variable  = {
				which = dev2add
				value = total_development
				who=ROOT
			}
			every_subject_country = {
				set_variable = {
					which = vassaldev
					value = 0
				}
				export_to_variable  = {
					which = vassaldev
					value = total_development
				}
				divide_variable = {
					which = vassaldev
					value = 2
				}
				ROOT = {
					set_variable = {
						which = vassaldev
						which = PREV
					}
					change_variable = {            
						which = dev2add
						which = vassaldev
					}
				}
			}
		}
	}
	
	# Go back
	
	# Contibute to the hoard
	option = {
		name = flavour_kobold_dragon_cult.1.b
		
		trigger = {
			owns = 189
		}
		
		if = {
			limit = {
				NOT = { has_global_flag = dragon_roar }
			}
			custom_tooltip = church_power_hoard_donation
			hidden_effect = { 
				REB = { 
					set_variable = {
						which = dev2add
						which = PREV
					}
					change_variable = { 
						which = dragon_cult_hoard 
						which = dev2add 
					} 
				} 
			}
			hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
		}
		else = {
			var_effect = { effect = add_treasury var = dev2add sign = + } 
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = red
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = red
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = red
				SLOT = 3
				UPGRADE = base
			}
		}
		
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = red
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = blue
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = blue
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = blue
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = blue
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = green
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = green
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = green
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = green
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = black
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = black
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = white
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = white
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = white
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = white
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = purple
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = purple
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brown
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brown
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brass
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brass
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = copper
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = copper
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = copper
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = copper
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = bronze
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = bronze
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = silver
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		

		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = silver
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 3
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = gold
				SLOT = 2
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 2
			UPGRADE = base
		}
	}
	
	option = {
		name = flavour_kobold_dragon_cult.1.c
		
		trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = gold
				SLOT = 3
				UPGRADE = base
			}
		}
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 3
			UPGRADE = base
		}
	}

## UPGRADED: LOCKED OUT
option = {
	name = flavour_kobold_dragon_cult.1.e
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = red
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = red
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = red
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = red
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = red
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = red
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = blue
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = blue
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = blue
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = blue
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = blue
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree #LEX DO THIS
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = blue
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = green
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = green
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = green
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = green
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = green
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = green
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = white
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = white
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = white
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = white
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = white
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = white
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = copper
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		custom_trigger_tooltip = {
			tooltip = upgrade_comes_from_mission_tree 
			always = no
		}
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = copper
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = copper
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		custom_trigger_tooltip = {
			tooltip = upgrade_comes_from_mission_tree 
			always = no
		}
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = copper
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = copper
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
	}
	custom_tooltip = upgrade_comes_from_mission_tree 
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = copper
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = black
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = { #NOTE: Placeholder until Insyaa release
			is_year = 1600
		}
	}
	custom_tooltip = black_dragon_upgrade_1_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = black
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = { #NOTE: Placeholder until Insyaa release
			is_year = 1600
		}
	}
	custom_tooltip = black_dragon_upgrade_2_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = black
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = { #NOTE: Placeholder until Insyaa release
			is_year = 1600
		}
	}
	custom_tooltip = black_dragon_upgrade_3_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = brown
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = { #NOTE: Placeholder until Insyaa release
			is_year = 1600
		}
	}
	custom_tooltip = brown_dragon_upgrade_1_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = brown
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = { #NOTE: Placeholder until Insyaa release
			is_year = 1600
		}
	}
	custom_tooltip = brown_dragon_upgrade_2_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = brown
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = { #NOTE: Placeholder until Insyaa release
			is_year = 1600
		}
	}
	custom_tooltip = brown_dragon_upgrade_3_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = purple
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_west_serpentspine_region
					is_year = 1600
				}
				far_bulwar_region = {
					any_province = {
						has_discovered = ROOT
					}
				}
				middle_dwarovar_region = {
					any_province = {
						has_discovered = ROOT
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_west_serpentspine_region }
		custom_tooltip = upgrade_comes_from_western_dwarovar
	}
	else = {
		custom_tooltip = purple_dragon_upgrade_1_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = purple
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_west_serpentspine_region
					is_year = 1600
				}
				any_ally = {
					capital_scope = {
						OR = {
							region = far_bulwar_region
							region = middle_dwarovar_region
						}
					}
				}
				any_subject_country = { #fix this
					capital_scope = {
						OR = {
							region = far_bulwar_region
							region = middle_dwarovar_region
						}
					}					
				}
				any_owned_province = {
					OR = {
						region = middle_dwarovar_region
						region = far_bulwar_region
					}
					OR = {
						has_terrain = dwarven_hold
						has_terrain = dwarven_hold_surface
					}
					NOT = { province_id = 2863 }
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_west_serpentspine_region }
		custom_tooltip = upgrade_comes_from_western_dwarovar
	}
	else = {
		custom_tooltip = purple_dragon_upgrade_2_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = purple
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_west_serpentspine_region
					is_year = 1600
				}
				AND = {
					4217 = {
						num_of_units_in_province = {
							who = ROOT
							amount = 40
						}
					}
					OR = {
						owns = 4217
						any_subject_country = {
							owns = 4217
						}
						any_ally = {
							owns = 4217
						}
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_west_serpentspine_region }
		custom_tooltip = upgrade_comes_from_western_dwarovar
	}
	else = {
		custom_tooltip = purple_dragon_upgrade_3_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = brass
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_rahen_region
					is_year = 1600
				}
				rahen_coast_region = { 
					type = all
					OR = {
						has_port = no 
						has_discovered = ROOT
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_rahen_region }
		custom_tooltip = upgrade_comes_from_rahen
	}
	else = {
		custom_tooltip = brass_dragon_upgrade_1_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = brass
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_rahen_region
					is_year = 1600
				}
				1361 = {
					is_strongest_trade_power = ROOT
				}
				AND = {
					dhenbasana_estuary_area = { 
						type = all
						OR = {
							has_port = no 
							owned_by = ROOT
						}
					}
					kharunyana_estuary_area = { 
						type = all
						OR = {
							has_port = no 
							owned_by = ROOT
						}
					}
					reanthung_area = { 
						type = all
						OR = {
							has_port = no 
							owned_by = ROOT
						}
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_rahen_region }
		custom_tooltip = upgrade_comes_from_rahen
	}
	else = {
		custom_tooltip = brass_dragon_upgrade_2_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = brass
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_rahen_region
					is_year = 1600
				}				
				has_country_flag = jyntas_quest_complete
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_rahen_region }
		custom_tooltip = upgrade_comes_from_rahen
	}
	else_if = {
		limit = { has_country_flag = jyntas_quest_1 }
		custom_tooltip = brass_dragon_upgrade_3_tt_no_a
	}
	else_if = {
		limit = { has_country_flag = jyntas_quest_2 }
		custom_tooltip = brass_dragon_upgrade_3_tt_no_b
	}
	else = {
		custom_tooltip = brass_dragon_upgrade_3_tt_no_c
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = bronze
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_north_sarhal_region
					is_year = 1600
				}					
				has_discovered = 466
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_north_sarhal_region }
		custom_tooltip = upgrade_comes_from_north_sarhal
	}
	else = {
		custom_tooltip = bronze_dragon_upgrade_1_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = bronze
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_north_sarhal_region
					is_year = 1600
				}	
				any_ally = {
					tag = U04
					is_emperor_of_china = yes
				}				
				owns = 466
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_north_sarhal_region }
		custom_tooltip = upgrade_comes_from_north_sarhal
	}
	else = {
		custom_tooltip = bronze_dragon_upgrade_2_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = bronze
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_north_sarhal_region
					is_year = 1600
				}	
				had_country_flag = {
					flag = met_aakhet
					days = 7300
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_north_sarhal_region }
		custom_tooltip = upgrade_comes_from_north_sarhal
	}
	else = {
		custom_tooltip = bronze_dragon_upgrade_3_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = silver
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			calc_true_if = {
				amount = 2
				owns = 833
				owns = 4
				owns = 82
				owns = 249
				owns = 151
				owns = 97
				owns = 227
				owns = 266
				owns = 265
				owns = 332
				owns = 52
				owns = 451
				owns = 308
			}
		}
	}
	custom_tooltip = silver_dragon_upgrade_1_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = silver
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			calc_true_if = {
				amount = 5
				owns = 833
				owns = 4
				owns = 82
				owns = 249
				owns = 151
				owns = 97
				owns = 227
				owns = 266
				owns = 265
				owns = 332
				owns = 52
				owns = 451
				owns = 308
			}
		}
	}
	custom_tooltip = silver_dragon_upgrade_2_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	

	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = silver
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			AND = {
				calc_true_if = {
					amount = 10
					owns = 833
					owns = 4
					owns = 82
					owns = 249
					owns = 151
					owns = 97
					owns = 227
					owns = 266
					owns = 265
					owns = 332
					owns = 52
					owns = 451
					owns = 308
				}
				owns = 833
			}
		}
	}
	custom_tooltip = silver_dragon_upgrade_3_tt_no
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = gold
			SLOT = 1
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_haless_region
					is_year = 1600
				}
				any_known_country = {
					capital_scope = { continent = asia }
					fast_owns_num_pops_of_race = { race = kobold amount = 1 }
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_haless_region }
		custom_tooltip = upgrade_comes_from_haless
	}
	else = {
		custom_tooltip = gold_dragon_upgrade_1_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = gold
			SLOT = 2
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_haless_region
					is_year = 1600
				}
				AND = {
					owns = 4976
					OR = {
						NOT = { exists = Y85 }
						Y85 = { is_subject_of = ROOT }
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_haless_region }
		custom_tooltip = upgrade_comes_from_haless
	}
	else = {
		custom_tooltip = gold_dragon_upgrade_2_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.e
	trigger = {
		can_unlock_kobold_cult_for_color_slot_upgrade = {
			COLOUR = gold
			SLOT = 3
			UPGRADE = upgraded
			requirebasic = yes
		}
		NOT = {
			OR = {
				AND = {
					has_global_flag = delete_haless_region
					is_year = 1600
				}
				AND = {
					owns = 4976
					OR = {
						NOT = { exists = Y85 }
						Y85 = { is_subject_of = ROOT }
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_haless_region }
		custom_tooltip = upgrade_comes_from_haless
	}
	else = {
		custom_tooltip = gold_dragon_upgrade_3_tt_no
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes 
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = black
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			is_year = 1600			
		}
	}
	custom_tooltip = black_dragon_upgrade_1_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = black
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			is_year = 1600
		}
	}
	custom_tooltip = black_dragon_upgrade_2_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = black
				SLOT = 3
				UPGRADE = upgraded
				requirebasic = yes
			}
			is_year = 1600	
		}
	}
	custom_tooltip = black_dragon_upgrade_3_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = black
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brown
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			is_year = 1600
		}
	}
	custom_tooltip = brown_dragon_upgrade_1_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brown
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			is_year = 1600
		}
	}
	custom_tooltip = brown_dragon_upgrade_2_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brown
				SLOT = 3
				UPGRADE = upgraded
				requirebasic = yes
			}
			is_year = 1600		
		}
	}
	custom_tooltip = brown_dragon_upgrade_3_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brown
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = purple
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_west_serpentspine_region
					is_year = 1600
				}
				far_bulwar_region = {
					any_province = {
						has_discovered = ROOT
					}
				}
				middle_dwarovar_region = {
					any_province = {
						has_discovered = ROOT
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_west_serpentspine_region }
		custom_tooltip = upgrade_comes_from_western_dwarovar_yes
	}
	else = {
		custom_tooltip = purple_dragon_upgrade_1_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = purple
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_west_serpentspine_region
					is_year = 1600
				}
				any_ally = {
					capital_scope = {
						OR = {
							region = far_bulwar_region
							region = middle_dwarovar_region
						}
					}
				}
				any_subject_country = { #fix this
					capital_scope = {
						OR = {
							region = far_bulwar_region
							region = middle_dwarovar_region
						}
					}					
				}
				any_owned_province = {
					OR = {
						region = middle_dwarovar_region
						region = far_bulwar_region
					}
					OR = {
						has_terrain = dwarven_hold
						has_terrain = dwarven_hold_surface
					}
					NOT = { province_id = 2863 }
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_west_serpentspine_region }
		custom_tooltip = upgrade_comes_from_western_dwarovar_yes
	}
	else = {
		custom_tooltip = purple_dragon_upgrade_2_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = purple
				SLOT = 3
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_west_serpentspine_region
					is_year = 1600
				}
				AND = {
					4217 = {
						num_of_units_in_province = {
							who = ROOT
							amount = 40
						}
					}
					OR = {
						owns = 4217
						any_subject_country = {
							owns = 4217
						}
						any_ally = {
							owns = 4217
						}
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_west_serpentspine_region }
		custom_tooltip = upgrade_comes_from_western_dwarovar_yes
	}
	else = {
		custom_tooltip = purple_dragon_upgrade_3_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = purple
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes 
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brass
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_rahen_region
					is_year = 1600
				}
				rahen_coast_region = { 
					type = all
					OR = {
						has_port = no 
						has_discovered = ROOT
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_rahen_region }
		custom_tooltip = upgrade_comes_from_rahen_yes
	}
	else = {
		custom_tooltip = brass_dragon_upgrade_1_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brass
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_rahen_region
					is_year = 1600
				}
				1361 = {
					is_strongest_trade_power = ROOT
				}
				AND = {
					dhenbasana_estuary_area = { 
						type = all
						OR = {
							has_port = no 
							owned_by = ROOT
						}
					}
					kharunyana_estuary_area = { 
						type = all
						OR = {
							has_port = no 
							owned_by = ROOT
						}
					}
					reanthung_area = { 
						type = all
						OR = {
							has_port = no 
							owned_by = ROOT
						}
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_rahen_region }
		custom_tooltip = upgrade_comes_from_rahen_yes
	}
	else = {
		custom_tooltip = brass_dragon_upgrade_2_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = brass
				SLOT = 3
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_rahen_region
					is_year = 1600
				}				
				has_country_flag = jyntas_quest_complete
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_rahen_region }
		custom_tooltip = upgrade_comes_from_rahen_yes
	}
	else_if = {
		limit = { has_country_flag = jyntas_quest_1 }
		custom_tooltip = brass_dragon_upgrade_3_tt_yes_a
	}
	else_if = {
		limit = { has_country_flag = jyntas_quest_2 }
		custom_tooltip = brass_dragon_upgrade_3_tt_yes_b
	}
	else = {
		custom_tooltip = brass_dragon_upgrade_3_tt_yes_c
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = brass
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = bronze
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_north_sarhal_region
					is_year = 1600
				}					
				has_discovered = 466
			}		
		}
	}
	if = {
		limit = { has_global_flag = delete_north_sarhal_region }
		custom_tooltip = upgrade_comes_from_north_sarhal_yes
	}
	else = {
		custom_tooltip = bronze_dragon_upgrade_1_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = bronze
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_north_sarhal_region
					is_year = 1600
				}	
				any_ally = {
					tag = U04
					is_emperor_of_china = yes
				}				
				owns = 466
			}		
		}
	}
	if = {
		limit = { has_global_flag = delete_north_sarhal_region }
		custom_tooltip = upgrade_comes_from_north_sarhal_yes
	}
	else = {
		custom_tooltip = bronze_dragon_upgrade_2_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = bronze
				SLOT = 3
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_north_sarhal_region
					is_year = 1600
				}	
				had_country_flag = {
					flag = met_aakhet
					days = 7300
				}
			}		
		}
	}
	if = {
		limit = { has_global_flag = delete_north_sarhal_region }
		custom_tooltip = upgrade_comes_from_north_sarhal_yes
	}
	else = {
		custom_tooltip = bronze_dragon_upgrade_3_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = bronze
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = silver
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			NOT = {
				calc_true_if = {
					amount = 2
					owns = 833
					owns = 4
					owns = 82
					owns = 249
					owns = 151
					owns = 97
					owns = 227
					owns = 266
					owns = 265
					owns = 332
					owns = 52
					owns = 451
					owns = 308
				}
			}			
		}
	}
	custom_tooltip = silver_dragon_upgrade_1_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = silver
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			calc_true_if = {
				amount = 5
				owns = 833
				owns = 4
				owns = 82
				owns = 249
				owns = 151
				owns = 97
				owns = 227
				owns = 266
				owns = 265
				owns = 332
				owns = 52
				owns = 451
				owns = 308
			}
		}

	}
	custom_tooltip = silver_dragon_upgrade_2_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = silver
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			AND = {
				calc_true_if = {
					amount = 10
					owns = 833
					owns = 4
					owns = 82
					owns = 249
					owns = 151
					owns = 97
					owns = 227
					owns = 266
					owns = 265
					owns = 332
					owns = 52
					owns = 451
					owns = 308
				}
				owns = 833
			}		
		}
	}
	custom_tooltip = silver_dragon_upgrade_3_tt_yes
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = silver
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = gold
				SLOT = 1
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_haless_region
					is_year = 1600
				}
				any_known_country = {
					capital_scope = { continent = asia }
					fast_owns_num_pops_of_race = { race = kobold amount = 1 }
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_haless_region }
		custom_tooltip = upgrade_comes_from_haless_yes
	}
	else = {
		custom_tooltip = gold_dragon_upgrade_1_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 1
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = gold
				SLOT = 2
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_haless_region
					is_year = 1600
				}
				AND = {
					owns = 4976
					OR = {
						NOT = { exists = Y85 }
						Y85 = { is_subject_of = ROOT }
					}
				}
			}
		}
	}
	if = {
		limit = { has_global_flag = delete_haless_region }
		custom_tooltip = upgrade_comes_from_haless_yes
	}
	else = {
		custom_tooltip = gold_dragon_upgrade_2_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 2
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}

option = {
	name = flavour_kobold_dragon_cult.1.c
	highlight = yes
	trigger = {
		hidden_trigger = {
			can_unlock_kobold_cult_for_color_slot_upgrade = {
				COLOUR = gold
				SLOT = 3
				UPGRADE = upgraded
				requirebasic = yes
			}
			OR = {
				AND = {
					has_global_flag = delete_haless_region
					is_year = 1600
				}
				AND = {
					owns = 4976
					OR = {
						NOT = { exists = Y85 }
						Y85 = { is_subject_of = ROOT }
					}
				}
			}			
		}
	}
	if = {
		limit = { has_global_flag = delete_haless_region }
		custom_tooltip = upgrade_comes_from_haless_yes
	}
	else = {
		custom_tooltip = gold_dragon_upgrade_3_tt_yes
	}
	tooltip = {
		unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
			COLOUR = gold
			SLOT = 3
			UPGRADE = upgraded
		}
	}
	hidden_effect = { country_event = { id = flavour_kobold_dragon_cult.4 } }
}
	option = {
		name = flavour_kobold_dragon_cult.1.a
		
		add_church_power = 100
		
		ai_chance = {
			factor = 0
		}
	}
}

#The KoboldHoard
country_event = {
	id = flavour_kobold_dragon_cult.2
	title = flavour_kobold_dragon_cult.2.t
	desc = flavour_kobold_dragon_cult.2.d
	picture = KOBOLD_HOARD_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		religion = kobold_dragon_cult
		NOT = { has_global_flag = dragon_roar }
	}
	
	# little investment
	option = {		
		name = flavour_kobold_dragon_cult.2.a
		ai_chance = { factor = 50 }	
		trigger = { treasury = 100 }
		add_treasury = -100
		add_church_power = 10
		hidden_effect = { REB = { change_variable = { dragon_cult_hoard = 100 } } }
		tooltip = { random = { chance = 10 add_stability_or_adm_power = yes } }
		set_country_flag = hoard_chance_1
		hidden_effect = { country_event = { id = flavor_kobildzan.100 } }
		hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
	}
	
	# Normal investment
	option = {		
		name = flavour_kobold_dragon_cult.2.b
		ai_chance = { factor = 50 }	
		trigger = { treasury = 250 }
		add_treasury = -250
		add_church_power = 25
		hidden_effect = { REB = { change_variable = { dragon_cult_hoard = 250 } } }
		add_prestige = 2
		tooltip = { random = { chance = 25 add_stability_or_adm_power = yes } }
		set_country_flag = hoard_chance_2
		hidden_effect = { country_event = { id = flavor_kobildzan.100 } }
		hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
	}
	
	# Big investment
	option = {		
		name = flavour_kobold_dragon_cult.2.c
		ai_chance = { factor = 50 }	
		trigger = { treasury = 500 }
		add_treasury = -500
		add_church_power = 50
		hidden_effect = { REB = { change_variable = { dragon_cult_hoard = 500 } } }
		add_prestige = 5
		tooltip = { random = { chance = 50 add_stability_or_adm_power = yes } }
		set_country_flag = hoard_chance_3
		hidden_effect = { country_event = { id = flavor_kobildzan.100 } }
		hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
	}
	
	# Huge investment
	option = {		
		name = flavour_kobold_dragon_cult.2.e
		ai_chance = { factor = 50 }	
		trigger = { treasury = 1000 }
		add_treasury = -1000
		add_church_power = 100
		hidden_effect = { REB = { change_variable = { dragon_cult_hoard = 1000 } } }
		add_prestige = 10
		add_stability_or_adm_power = yes
		hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
	}
	
	# Colossal investment
	option = {		
		name = flavour_kobold_dragon_cult.2.f
		ai_chance = { factor = 50 }
		trigger = { treasury = 2000 }
		add_treasury = -2000
		add_church_power = 200
		hidden_effect = { REB = { change_variable = { dragon_cult_hoard = 2000 } } }
		add_prestige = 25
		add_stability_or_adm_power = yes
		add_stability_or_adm_power = yes
		hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
	}
	
	option = {		
		name = flavour_kobold_dragon_cult.2.g
		ai_chance = { factor = 50 }
		trigger = { treasury = 5000 }
		add_treasury = -5000
		add_church_power = 200
		hidden_effect = { REB = { change_variable = { dragon_cult_hoard = 5300 } } }
		add_prestige = 50
		add_stability_or_adm_power = yes
		add_stability_or_adm_power = yes
		add_stability_or_adm_power = yes
		add_stability_or_adm_power = yes
		add_stability_or_adm_power = yes
		hidden_effect = { 189 = { upgrade_kobold_hoard = yes } }
	}
	
	# Go Back
	option = {		
		name = flavour_kobold_dragon_cult.2.h
		ai_chance = { factor = 50 }
		highlight = yes
		hidden_effect = { clr_country_flag = kobold_hoard_menu }
	}
}

country_event = {
	id = flavour_kobold_dragon_cult.4
	title = flavour_kobold_dragon_cult.4.t
	desc = flavour_kobold_dragon_cult.4.d
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		always = yes
	}
	
	# Dragon Spawn
	option = {		
		name = flavour_kobold_dragon_cult.4.a
		country_event = { id = flavour_kobold_dragon_cult.1 }
	}
}