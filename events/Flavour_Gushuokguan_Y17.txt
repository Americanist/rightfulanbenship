namespace = gushuokguan_event

#An Alliance of Convenience
country_event = {
	id = gushuokguan_event.1
	title = gushuokguan_event.1.t
	desc = gushuokguan_event.1.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = { }
	
	option = {
		name = gushuokguan_event.1.a
		ai_chance = { factor = 1 }
		add_historical_friend = Y05 #Lanjinhui
		Y05 = { add_historical_friend = ROOT } #Lanjinhui #Gushuokguan
		add_country_modifier = {
			name = gushuokguan_alliance_of_yellow_and_blue
			duration = 3650
		}
	}
}

#The Fools of Lanjinhui
country_event = {
	id = gushuokguan_event.2
	title = gushuokguan_event.2.t
	desc = gushuokguan_event.2.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}
	
	option = {
		name = gushuokguan_event.2.a
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gushoukguan_true_liberation_for_the_peasants
			duration = 3650
		}
	}
}

#The Stone Swords
country_event = {
	id = gushuokguan_event.3
	title = gushuokguan_event.3.t
	desc = gushuokguan_event.3.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}
	
	option = {
		name = gushuokguan_event.3.a
		ai_chance = { factor = 1 }
		add_army_tradition = 10
		add_country_modifier = {
			name = gushuokguan_drill_army_modifier
			duration = 5475
		}
	}
}

#The Stone Plot
country_event = {
	id = gushuokguan_event.4
	title = gushuokguan_event.4.t
	desc = gushuokguan_event.4.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}
	
	option = {
		name = gushuokguan_event.4.a
		ai_chance = { factor = 1 }
		create_vassal = Y05
		random_list = {
			1 = {}
			1 = {
				Y05 = { #Lanjinhui
					capital_scope = {
						spawn_rebels = {
							type = leadered_peasant_rebels
							size = 2
						}
					}
				}
			}
		}
	}
}

#The Ciying Border Incident
country_event = {
	id = gushuokguan_event.5
	title = gushuokguan_event.5.t
	desc = gushuokguan_event.5.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.5.a
		ai_chance = { factor = 1 }
		random_list = {
			2 = { 
				create_vassal = Y05 #Lanjinhui
				Y05 = { #Lanjinhui
					capital_scope = {
						spawn_rebels = {
							type = leadered_peasant_rebels
							size = 2
						}
					}
				}
			} 
			8 = {
				declare_war_with_cb = {
					who = Y05 #Lanjinhui
					casus_belli = cb_vassalize_mission
				}
			}
		}
	}
}

#The Triple Alliance
country_event = {
	id = gushuokguan_event.6
	title = gushuokguan_event.6.t
	desc = gushuokguan_event.6.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.6.a
		ai_chance = { factor = 1 }
		add_government_reform = the_stone_jun
		hidden_effect = {
			set_variable = {
				which = election_term
				value = 1
			}
		}
	}
}

#The Confederation of Yanshen
country_event = {
	id = gushuokguan_event.7
	title = gushuokguan_event.7.t
	desc = gushuokguan_event.7.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.7.a
		ai_chance = { factor = 1 }
		create_subject = {
			subject_type = dao
			subject = Y05 #Lanjinhui
		}
		iongsim_area = {
			add_permanent_claim = ROOT #Gushuokguan
		}
		set_estate_privilege = estate_eunuchs_anb_confederal_administrative_cadre
	}
}

#Service Guarantees Citizenship
country_event = {
	id = gushuokguan_event.8
	title = gushuokguan_event.8.t
	desc = gushuokguan_event.8.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.8.a
		ai_chance = { factor = 1 }
		clear_adventurers_organization_effect = yes
		set_estate_privilege = estate_adventurers_organization_stone_army
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.9
	title = gushuokguan_event.9.t
	desc = gushuokguan_event.9.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.9.a
		ai_chance = { factor = 1 }
	}
}

#
country_event = {
	id = gushuokguan_event.10
	title = gushuokguan_event.10.t
	desc = gushuokguan_event.10.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.10.a
		ai_chance = { factor = 1 }
		
	}
}

#Migrants come to X
country_event = {
	id = gushuokguan_event.11
	title = gushuokguan_event.11.t
	desc = gushuokguan_event.11.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}
	
	option = {
		name = gushuokguan_event.11.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			add_random_development = 1
			random_list = {
				90 = {} #Empty
				10 = {
					random_list = {
						1 = {
							trigger = { has_harimari_majority_trigger = no }
							add_harimari_minority_size_effect = yes
						}
						1 = {
							trigger = { has_human_majority_trigger = no }
							add_human_minority_size_effect = yes
						}
						1 = {
							add_kobold_minority_size_effect = yes
						}
						1 = {
							add_elven_minority_size_effect = yes
						}
					}
				}
			}
		}
	}
}

#Migrant Clash in X
country_event = {
	id = gushuokguan_event.12
	title = gushuokguan_event.12.t
	desc = gushuokguan_event.12.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}

	option = {
		name = gushuokguan_event.12.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			random_list = {
				9 = {} #Empty
				1 = {
					random_list = {
						1 = {
							trigger = { has_harimari_minority_trigger = yes }
							remove_harimari_minority_size_effect = yes
						}
						1 = {
							trigger = { has_human_minority_trigger = no }
							remove_human_minority_size_effect = yes
						}
						1 = {
							trigger = { has_kobold_minority_trigger = no }
							remove_kobold_minority_size_effect = yes
						}
						1 = {
							trigger = { has_elven_minority_trigger = no }
							remove_elven_minority_size_effect = yes
						}
					}
				}
			}
			random_list = {
				4 = {} #Empty
				1 = { add_random_development = -1 }
			}
			random_list = {
				1 = {} #Empty 
				1 = { add_devastation = 10 }
			}
		}
	}
}

#Migrants Clash with Locals
country_event = {
	id = gushuokguan_event.13
	title = gushuokguan_event.13.t
	desc = gushuokguan_event.13.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}

	option = {
		name = gushuokguan_event.13.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			random_list = {
				4 = {} #Empty
				1 = { add_random_development = -1 }
			}
			random_list = {
				1 = {} #Empty 
				1 = { add_devastation = 10 }
			}
		}
	}
}

#Migrants Thrive
country_event = {
	id = gushuokguan_event.14
	title = gushuokguan_event.14.t
	desc = gushuokguan_event.14.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}
	
	option = {
		name = gushuokguan_event.14.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			add_random_development = 2
			random_list = {
				90 = {} #Empty
				10 = {
					random_list = {
						1 = {
							trigger = { has_harimari_majority_trigger = no }
							add_harimari_minority_size_effect = yes
						}
						1 = {
							trigger = { has_human_majority_trigger = no }
							add_human_minority_size_effect = yes
						}
						1 = {
							add_kobold_minority_size_effect = yes
						}
						1 = {
							add_elven_minority_size_effect = yes
						}
					}
				}
			}
		}
	}
}

#Stronger Together
country_event = {
	id = gushuokguan_event.15
	title = gushuokguan_event.15.t
	desc = gushuokguan_event.15.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}
	
	option = {
		name = gushuokguan_event.14.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			add_province_modifier = {
				name = gushuokguan_stronger_together
				duration = 7300
			}
		}
	}
}

#Migratory Mercenaries
country_event = {
	id = gushuokguan_event.16
	title = gushuokguan_event.16.t
	desc = gushuokguan_event.16.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.16.a
		ai_chance = { factor = 1 }
		add_yearly_manpower = 0.5
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.17
	title = gushuokguan_event.17.t
	desc = gushuokguan_event.17.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.17.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.18
	title = gushuokguan_event.18.t
	desc = gushuokguan_event.18.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.18.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.19
	title = gushuokguan_event.19.t
	desc = gushuokguan_event.19.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.19.a
		ai_chance = { factor = 1 }
	}
}

### United We Stand Mission Chain ###
#Confederal Council
country_event = {
	id = gushuokguan_event.31
	title = gushuokguan_event.31.t
	desc = gushuokguan_event.31.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.31.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.32
	title = gushuokguan_event.32.t
	desc = gushuokguan_event.32.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.32.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.33
	title = gushuokguan_event.33.t
	desc = gushuokguan_event.33.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.33.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.34
	title = gushuokguan_event.34.t
	desc = gushuokguan_event.34.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.34.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.35
	title = gushuokguan_event.35.t
	desc = gushuokguan_event.35.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.35.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.36
	title = gushuokguan_event.36.t
	desc = gushuokguan_event.36.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.36.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.37
	title = gushuokguan_event.37.t
	desc = gushuokguan_event.37.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.37.a
		ai_chance = { factor = 1 }
	}
}

### Confederal Council Events ###
#Confederal Council
country_event = {
	id = gushuokguan_event.51
	title = gushuokguan_event.51.t
	desc = gushuokguan_event.51.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.51.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.52
	title = gushuokguan_event.52.t
	desc = gushuokguan_event.52.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.52.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.53
	title = gushuokguan_event.53.t
	desc = gushuokguan_event.53.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.53.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.54
	title = gushuokguan_event.54.t
	desc = gushuokguan_event.54.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.54.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.55
	title = gushuokguan_event.55.t
	desc = gushuokguan_event.55.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.55.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.56
	title = gushuokguan_event.56.t
	desc = gushuokguan_event.56.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.56.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.57
	title = gushuokguan_event.57.t
	desc = gushuokguan_event.57.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.57.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.58
	title = gushuokguan_event.58.t
	desc = gushuokguan_event.58.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.58.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.59
	title = gushuokguan_event.59.t
	desc = gushuokguan_event.59.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.59.a
		ai_chance = { factor = 1 }
	}
}

#condottieri Sold Counter
country_event = {
	id = gushuokguan_event.101
	title = gushuokguan_event.101.t
	desc = gushuokguan_event.101.d
	picture = CHINESE_GENERAL_eventPicture
	
	#There is no on_action for hiring condottieri, so I'm doing mtth for those.
	#okman, if you have a better idea on how to do execute this - PLEASE HELP
	mean_time_to_happen = {
		days = 1
	}

	hidden = yes 

	trigger = {
		any_known_country = {
			ROOT = { is_renting_condottieri_to = PREV } #Gushuokguan
			NOT = { has_country_flag = gushuokguan_already_checked_condottieri }
		}
	}


	immediate = {
		random_known_country = {
			limit = {
				ROOT = { is_renting_condottieri_to = PREV } #Gushuokguan
				NOT = { has_country_flag = gushuokguan_already_checked_condottieri }
			}
			save_event_target_as = gushuokguan_tag_rented_condottieri
		}
	}
	
	option = {
		name = gushuokguan_event.101.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_tag_rented_condottieri = {
			set_country_flag = gushuokguan_already_checked_condottieri
		}
		change_variable = {
			which = gushuokguan_rented_condottieri_counter
			value = 1
		}
	}
}

country_event = {
	id = gushuokguan_event.102
	title = gushuokguan_event.102.t
	desc = gushuokguan_event.102.d
	picture = CHINESE_GENERAL_eventPicture
	
	#There is no on_action for hiring condottieri, so I'm doing mtth for those.
	#okman, if you have a better idea on how to do execute this - PLEASE HELP
	mean_time_to_happen = {
		days = 1 
	}

	hidden = yes 

	trigger = {
		any_known_country = {
			NOT = { ROOT = { is_renting_condottieri_to = PREV } } #Gushuokguan
			has_country_flag = gushuokguan_already_checked_condottieri
		}
	}


	immediate = {
		random_known_country = {
			limit = {
				NOT = { ROOT = { is_renting_condottieri_to = PREV } } #Gushuokguan
				has_country_flag = gushuokguan_already_checked_condottieri
			}
			save_event_target_as = gushuokguan_tag_rented_condottieri
		}
	}
	
	option = {
		name = gushuokguan_event.102.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_tag_rented_condottieri = {
			clr_country_flag = gushuokguan_already_checked_condottieri
		}
	}
}