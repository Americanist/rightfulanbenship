namespace = gushuokguan_event

#An Alliance of Convenience
country_event = {
	id = gushuokguan_event.1
	title = gushuokguan_event.1.t
	desc = gushuokguan_event.1.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = { }
	
	option = {
		name = gushuokguan_event.1.a
		ai_chance = { factor = 1 }
		add_historical_friend = Y05 #Lanjinhui
		Y05 = { add_historical_friend = ROOT } #Lanjinhui #Gushuokguan
		add_country_modifier = {
			name = gushuokguan_alliance_of_yellow_and_blue
			duration = 3650
		}
	}
}

#The Fools of Lanjinhui
country_event = {
	id = gushuokguan_event.2
	title = gushuokguan_event.2.t
	desc = gushuokguan_event.2.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}
	
	option = {
		name = gushuokguan_event.2.a
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gushoukguan_true_liberation_for_the_peasants
			duration = 3650
		}
	}
}

#The Stone Swords
country_event = {
	id = gushuokguan_event.3
	title = gushuokguan_event.3.t
	desc = gushuokguan_event.3.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}
	
	option = {
		name = gushuokguan_event.3.a
		ai_chance = { factor = 1 }
		add_army_tradition = 10
		add_country_modifier = {
			name = gushuokguan_drill_army_modifier
			duration = 5475
		}
	}
}

#The Stone Plot
country_event = {
	id = gushuokguan_event.4
	title = gushuokguan_event.4.t
	desc = gushuokguan_event.4.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}
	
	option = {
		name = gushuokguan_event.4.a
		ai_chance = { factor = 1 }
		create_vassal = Y05
		random_list = {
			1 = {}
			1 = {
				Y05 = { #Lanjinhui
					capital_scope = {
						spawn_rebels = {
							type = leadered_peasant_rebels
							size = 2
						}
					}
				}
			}
		}
	}
}

#The Ciying Border Incident
country_event = {
	id = gushuokguan_event.5
	title = gushuokguan_event.5.t
	desc = gushuokguan_event.5.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.5.a
		ai_chance = { factor = 1 }
		random_list = {
			2 = { 
				create_vassal = Y05 #Lanjinhui
				Y05 = { #Lanjinhui
					capital_scope = {
						spawn_rebels = {
							type = leadered_peasant_rebels
							size = 2
						}
					}
				}
			} 
			8 = {
				declare_war_with_cb = {
					who = Y05 #Lanjinhui
					casus_belli = cb_vassalize_mission
				}
			}
		}
	}
}

#The Triple Alliance
country_event = {
	id = gushuokguan_event.6
	title = gushuokguan_event.6.t
	desc = gushuokguan_event.6.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.6.a
		ai_chance = { factor = 1 }
		add_government_reform = the_stone_jun
		hidden_effect = {
			set_variable = {
				which = election_term
				value = 1
			}
		}
	}
}

#The Confederation of Yanshen
country_event = {
	id = gushuokguan_event.7
	title = gushuokguan_event.7.t
	desc = gushuokguan_event.7.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.7.a
		ai_chance = { factor = 1 }
		create_subject = {
			subject_type = dao
			subject = Y05 #Lanjinhui
		}
		iongsim_area = {
			add_permanent_claim = ROOT #Gushuokguan
		}
		set_estate_privilege = estate_eunuchs_anb_confederal_administrative_cadre
		add_country_modifier = {
			name = gushuokguan_golden_dawn_for_the_dao
			duration = 3650
		}
		add_country_modifier = {
			name = gushuokguan_dao_normal_buff
			duration = -1
		}
	}
}

#Service Guarantees Citizenship
country_event = {
	id = gushuokguan_event.8
	title = gushuokguan_event.8.t
	desc = gushuokguan_event.8.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.8.a
		ai_chance = { factor = 1 }
		clear_adventurers_organization_effect = yes
		set_estate_privilege = estate_adventurers_organization_stone_army
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.9
	title = gushuokguan_event.9.t
	desc = gushuokguan_event.9.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.9.a
		ai_chance = { factor = 1 }
		custom_tooltip = gushuokguan_enable_confederal_council_tt
		hidden_effect = {
			set_country_flag = gushuokguan_enable_confederal_council
		}
	}
}

#
country_event = {
	id = gushuokguan_event.10
	title = gushuokguan_event.10.t
	desc = gushuokguan_event.10.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.10.a
		ai_chance = { factor = 1 }
		
	}
}

#Migrants come to X
country_event = {
	id = gushuokguan_event.11
	title = gushuokguan_event.11.t
	desc = gushuokguan_event.11.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}
	
	option = {
		name = gushuokguan_event.11.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			add_random_development = 1
			random_list = {
				90 = {} #Empty
				10 = {
					random_list = {
						1 = {
							trigger = { has_harimari_majority_trigger = no }
							add_harimari_minority_size_effect = yes
						}
						1 = {
							trigger = { has_human_majority_trigger = no }
							add_human_minority_size_effect = yes
						}
						1 = {
							add_kobold_minority_size_effect = yes
						}
						1 = {
							add_elven_minority_size_effect = yes
						}
					}
				}
			}
		}
	}
}

#Migrant Clash in X
country_event = {
	id = gushuokguan_event.12
	title = gushuokguan_event.12.t
	desc = gushuokguan_event.12.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}

	option = {
		name = gushuokguan_event.12.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			random_list = {
				9 = {} #Empty
				1 = {
					random_list = {
						1 = {
							trigger = { has_harimari_minority_trigger = yes }
							remove_harimari_minority_size_effect = yes
						}
						1 = {
							trigger = { has_human_minority_trigger = no }
							remove_human_minority_size_effect = yes
						}
						1 = {
							trigger = { has_kobold_minority_trigger = no }
							remove_kobold_minority_size_effect = yes
						}
						1 = {
							trigger = { has_elven_minority_trigger = no }
							remove_elven_minority_size_effect = yes
						}
					}
				}
			}
			random_list = {
				4 = {} #Empty
				1 = { add_random_development = -1 }
			}
			random_list = {
				1 = {} #Empty 
				1 = { add_devastation = 10 }
			}
		}
	}
}

#Migrants Clash with Locals
country_event = {
	id = gushuokguan_event.13
	title = gushuokguan_event.13.t
	desc = gushuokguan_event.13.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}

	option = {
		name = gushuokguan_event.13.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			random_list = {
				4 = {} #Empty
				1 = { add_random_development = -1 }
			}
			random_list = {
				1 = {} #Empty 
				1 = { add_devastation = 10 }
			}
		}
	}
}

#Migrants Thrive
country_event = {
	id = gushuokguan_event.14
	title = gushuokguan_event.14.t
	desc = gushuokguan_event.14.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}
	
	option = {
		name = gushuokguan_event.14.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			add_random_development = 2
			random_list = {
				90 = {} #Empty
				10 = {
					random_list = {
						1 = {
							trigger = { has_harimari_majority_trigger = no }
							add_harimari_minority_size_effect = yes
						}
						1 = {
							trigger = { has_human_majority_trigger = no }
							add_human_minority_size_effect = yes
						}
						1 = {
							add_kobold_minority_size_effect = yes
						}
						1 = {
							add_elven_minority_size_effect = yes
						}
					}
				}
			}
		}
	}
}

#Stronger Together
country_event = {
	id = gushuokguan_event.15
	title = gushuokguan_event.15.t
	desc = gushuokguan_event.15.d
	picture = CHINESE_GENERAL_eventPicture
	goto = event_target:gushuokguan_migration_target
	
	is_triggered_only = yes

	trigger = { }

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = gushuokguan_migration_target
			}
		}
	}
	
	option = {
		name = gushuokguan_event.14.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_migration_target = {
			add_province_modifier = {
				name = gushuokguan_stronger_together
				duration = 7300
			}
		}
	}
}

#Migratory Mercenaries
country_event = {
	id = gushuokguan_event.16
	title = gushuokguan_event.16.t
	desc = gushuokguan_event.16.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.16.a
		ai_chance = { factor = 1 }
		add_yearly_manpower = 0.5
	}
}

#Seven Swords Society
country_event = {
	id = gushuokguan_event.17
	title = gushuokguan_event.17.t
	desc = gushuokguan_event.17.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.17.a
		ai_chance = { factor = 1 }
		add_country_modifier = {
			name = gushuokguan_seven_swords_society
			duration = -1
		}
		hidden_effect = {
			country_event = { id = gushuokguan_event.18 days = 3650 random = 3650 }
		} 
	}
}

#The Jade Pub Incident
country_event = {
	id = gushuokguan_event.18
	title = gushuokguan_event.18.t
	desc = gushuokguan_event.18.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	immediate = {
		hidden_effect = {
			set_saved_name = {
				key = gushuokguan_lubei
				type = simple
				name = "Lubei 'the Honorable'"
			}
		}
	}

	after = {
		hidden_effect = {
			set_country_flag = gushuokguan_jade_pub_incident
		}
	}

	option = {
		name = gushuokguan_event.18.a
		ai_chance = { factor = 1 }
		define_advisor = {
			type = army_reformer
			name = gushuokguan_lubei
			skill = 2
			discount = yes
		}
	}

	option = {
		name = gushuokguan_event.18.a
		ai_chance = { factor = 1 }
		define_general = {
			shock = 5
			fire = 4
			manuever = 2
			siege = 2
			name = gushuokguan_lubei
		}
	}
}

#Code of Lubei
country_event = {
	id = gushuokguan_event.19
	title = gushuokguan_event.19.t
	desc = gushuokguan_event.19.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.19.a
		ai_chance = { factor = 1 }
		if = {
			limit = { employed_advisor = { name = gushuokguan_lubei } }
			add_country_modifier = {
				name = gushuokguan_advisor_lubei
				duration = 9125
			}
		}
		if = {
			limit = { has_leader = gushuokguan_lubei }
			add_country_modifier = {
				name = gushuokguan_advisor_lubei
				duration = 9125
			}
		}
		add_country_modifier = {
			name = gushuokguan_the_code_of_lubei
			duration = -1
		}
		add_country_modifier = {
			name = gushuokguan_the_code_of_lubei_morale
			duration = -1
		}
	}
}

### United We Stand Mission Chain ###
#Confederal Council
country_event = {
	id = gushuokguan_event.31
	title = gushuokguan_event.31.t
	desc = gushuokguan_event.31.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.31.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.32
	title = gushuokguan_event.32.t
	desc = gushuokguan_event.32.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.32.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.33
	title = gushuokguan_event.33.t
	desc = gushuokguan_event.33.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.33.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.34
	title = gushuokguan_event.34.t
	desc = gushuokguan_event.34.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.34.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.35
	title = gushuokguan_event.35.t
	desc = gushuokguan_event.35.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.35.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.36
	title = gushuokguan_event.36.t
	desc = gushuokguan_event.36.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.36.a
		ai_chance = { factor = 1 }
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.37
	title = gushuokguan_event.37.t
	desc = gushuokguan_event.37.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {}

	option = {
		name = gushuokguan_event.37.a
		ai_chance = { factor = 1 }
	}
}

### Confederal Council Events ###
#Declaration of Hostilities
country_event = {
	id = gushuokguan_event.51
	title = gushuokguan_event.51.t
	desc = gushuokguan_event.51.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		calc_true_if = {
			all_subject_country = {
				is_subject_of_type = dao
			}
			amount = 4
		}
		any_subject_country = {
			any_neighbor_country = {
				NOT = { 
					is_subject_of = ROOT #Gushuokguan
					tag = ROOT #Gushuokguan
				}
			}
		}
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = { 
					is_subject_of_type = dao 
					any_neighbor_country = {
						NOT = { 
							is_subject_of = ROOT #Gushuokguan
							tag = ROOT #Gushuokguan
						} 
					}
				}
				save_global_event_target_as = dao_A
			}
			random_subject_country = {
				limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
				save_event_target_as = dao_B
			}
			random_subject_country = {
				limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } NOT = { has_saved_event_target = dao_B } }
				save_event_target_as = dao_C
			}
			random_subject_country = {
				limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } NOT = { has_saved_event_target = dao_B } NOT = { has_saved_event_target = dao_C } }
				save_global_event_target_as = dao_D
			}
		}
	}

	option = {
		name = gushuokguan_event.51.a
		ai_chance = { factor = 1 }
		event_target:dao_B = { 
			add_liberty_desire = 10 
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_small
			}
		}
		event_target:dao_C = { 
			add_liberty_desire = 10 
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_small
			}
		}
		event_target:dao_A = {
			random_neighbor_country = {
				limit = {
					NOT = { 
						is_subject_of = ROOT #Gushuokguan
						tag = ROOT #Gushuokguan
					} 
				}
				every_owned_province = {
					limit = { is_neighbor_of = event_target:dao_A }
					add_claim = ROOT
					set_province_flag = gushuokguan_claimed_for_dao
				}
			}
		}
		set_country_flag = gushuokguan_dao_claim
	}

	option = {
		name = gushuokguan_event.51.b
		ai_chance = { factor = 1 }
		event_target:dao_A = { 
			add_liberty_desire = 10 
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_small
			}
		}
		event_target:dao_D = { 
			add_liberty_desire = 10 
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_small
			}
		}
		add_ruler_modifier = {
			name = gushuokguan_prosperity_devastation
			duration = -1
		}
		every_subject_country = {
			add_ruler_modifier = {
				name = gushuokguan_prosperity_devastation
				duration = -1
			}
		}
	}
}

#Disagreement over Trade Rulers
country_event = {
	id = gushuokguan_event.52
	title = gushuokguan_event.52.t
	desc = gushuokguan_event.52.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { is_subject_of_type = dao }
			save_event_target_as = dao_A
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
			save_event_target_as = dao_B
		}
	}

	option = {
		name = gushuokguan_event.52.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_prestige = 15
			add_country_modifier = {
				name = gushuokguan_victory_in_the_council
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_B = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.52.b
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		event_target:dao_B = {
			add_prestige = 15
			add_country_modifier = {
				name = gushuokguan_victory_in_the_council
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.53
	title = gushuokguan_event.53.t
	desc = gushuokguan_event.53.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { is_subject_of_type = dao }
			save_event_target_as = dao_A
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
			save_event_target_as = dao_B
		}
	}

	option = {
		name = gushuokguan_event.53.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_adm_power = 50
			add_years_of_income = 0.2
			add_liberty_desire = -10
			add_country_modifier = {
				name = gushuokguan_devastation
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_B = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
		}
	}

	option = {
		name = gushuokguan_event.53.b
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
		}
		event_target:dao_B = {
			add_adm_power = 50
			add_years_of_income = 0.2
			add_liberty_desire = -10
			add_country_modifier = {
				name = gushuokguan_devastation
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.53.c
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_adm_power = 25
			add_years_of_income = 0.1
			add_liberty_desire = 10
			add_country_modifier = {
				name = gushuokguan_devastation
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_small
			}
		}
		event_target:dao_B = {
			add_adm_power = 25
			add_years_of_income = 0.1
			add_liberty_desire = 10
			add_country_modifier = {
				name = gushuokguan_devastation
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_small
			}
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.54
	title = gushuokguan_event.54.t
	desc = gushuokguan_event.54.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { is_subject_of_type = dao }
			save_event_target_as = dao_A
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
			save_event_target_as = dao_B
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } NOT = { has_saved_event_target = dao_B } }
			save_event_target_as = dao_C
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } NOT = { has_saved_event_target = dao_B } NOT = { has_saved_event_target = dao_C } }
			save_event_target_as = dao_D
		}
	}

	option = {
		name = gushuokguan_event.54.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_years_of_income = 0.5
			add_prestige = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_C = {
			add_years_of_income = 0.5
			add_prestige = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_B = {
			add_liberty_desire = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		event_target:dao_D = {
			add_liberty_desire = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.54.b
		ai_chance = { factor = 1 }
		event_target:dao_B = {
			add_years_of_income = 0.5
			add_prestige = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_D = {
			add_years_of_income = 0.5
			add_prestige = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_A = {
			add_liberty_desire = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		event_target:dao_C = {
			add_liberty_desire = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.54.c
		ai_chance = { factor = 1 }
		
		add_years_of_income = 1

		event_target:dao_A = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
		}
		event_target:dao_C = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
		}
		event_target:dao_B = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
		}
		event_target:dao_D = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.55
	title = gushuokguan_event.55.t
	desc = gushuokguan_event.55.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { is_subject_of_type = dao }
			save_event_target_as = dao_A
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
			save_event_target_as = dao_B
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } NOT = { has_saved_event_target = dao_B } }
			save_event_target_as = dao_C
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } NOT = { has_saved_event_target = dao_B } NOT = { has_saved_event_target = dao_C } }
			save_event_target_as = dao_D
		}
	}

	option = {
		name = gushuokguan_event.55.a
		ai_chance = { factor = 1 }
		every_subject_country = {
			add_country_modifier = {
				name = gushuokguan_devastation
				duration = 1460
			}
			every_owned_province = {
				add_prosperity = 10
			}
		}
		event_target:dao_A = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		event_target:dao_B = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.55.b
		ai_chance = { factor = 1 }
		every_subject_country = {
			add_country_modifier = {
				name = gushuokguan_military_focus
				duration = 1460
			}
		}
		event_target:dao_C = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		event_target:dao_D = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.56
	title = gushuokguan_event.56.t
	desc = gushuokguan_event.56.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { 
				is_subject_of_type = dao 
				num_of_ports = 1
			}
			save_event_target_as = coastal_dao
		}
	}

	option = {
		name = gushuokguan_event.56.a
		ai_chance = { factor = 1 }
		event_target:coastal_dao = {
			add_country_modifier = {
				name = gushuokguan_trade_benefits
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.56.b
		ai_chance = { factor = 1 }
		event_target:coastal_dao = {
			add_liberty_desire = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		every_subject_country = {
			limit = { is_subject_of_type = dao }
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.57
	title = gushuokguan_event.57.t
	desc = gushuokguan_event.57.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { 
				is_subject_of_type = dao 
				NOT = { num_of_ports = 1 }
			}
			save_event_target_as = interior_dao
		}
	}

	option = {
		name = gushuokguan_event.57.a
		ai_chance = { factor = 1 }
		event_target:interior_dao = {
			add_country_modifier = {
				name = gushuokguan_caravan_benefits
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
	}

	option = {
		name = gushuokguan_event.57.b
		ai_chance = { factor = 1 }
		event_target:interior_dao = {
			add_liberty_desire = 10
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		every_subject_country = {
			limit = { is_subject_of_type = dao }
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.58
	title = gushuokguan_event.58.t
	desc = gushuokguan_event.58.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
	}

	immediate = {
		random_subject_country = {
			limit = { is_subject_of_type = dao }
			save_event_target_as = dao_A
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
			save_event_target_as = dao_B
		}
	}

	option = {
		name = gushuokguan_event.58.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_country_modifier = {
				name = gushuokguan_decentralisation_focus
				duration = 1460
			}
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
			add_liberty_desire = 25
		}
		event_target:dao_B = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_large
			}
			add_liberty_desire = -20
		}
	}

	option = {
		name = gushuokguan_event.58.b
		ai_chance = { factor = 1 }
		event_target:dao_B = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
			add_liberty_desire = 25
		}
		event_target:dao_A = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_large
			}
			add_liberty_desire = -20
		}
	}
}

#Confederal Council
country_event = {
	id = gushuokguan_event.59
	title = gushuokguan_event.59.t
	desc = gushuokguan_event.59.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_enable_confederal_council
		any_subject_country = {
			is_subject_of_type = dao
			is_not_purging_any_race_trigger = no
		}
	}

	immediate = {
		random_subject_country = {
			limit = { is_subject_of_type = dao }
			save_event_target_as = dao_A
		}
		random_subject_country = {
			limit = { is_subject_of_type = dao NOT = { has_saved_global_event_target = dao_A } }
			save_event_target_as = dao_B
		}
	}

	option = {
		name = gushuokguan_event.59.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
			add_liberty_desire = 20
			end_all_purge = yes
			end_all_expulsion = yes
		}
		event_target:dao_B = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_large
			}
			add_liberty_desire = -15
		}
	}

	option = {
		name = gushuokguan_event.59.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_large
			}
			add_liberty_desire = -15
		}
		event_target:dao_B = {
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_large
			}
			add_liberty_desire = 20
		}
	}
}

#You didn't decc
country_event = {
	id = gushuokguan_event.61
	title = gushuokguan_event.61.t
	desc = gushuokguan_event.61.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_dao_claim
		any_claimed_province = {
			has_province_flag = gushuokguan_claimed_for_dao
			owner = { 
				OR = {
					NOT = { truce_with = ROOT }
					NOT = { war_with = ROOT } 
				}
			}
			NOT = { owned_by = ROOT }
		}
		has_country_flag = gushuokguan_enable_confederal_council
	}

	option = {
		name = gushuokguan_event.61.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		event_target:dao_D = {
			add_liberty_desire = 15
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_negative_medium
			}
		}
		hidden_effect = {
			clear_global_event_target = dao_A
			clear_global_event_target = dao_D
			every_claimed_province = {
				limit = { has_province_flag = gushuokguan_claimed_for_dao }
				clr_province_flag = gushuokguan_claimed_for_dao
			}
		}
	}
}

#You decc
country_event = {
	id = gushuokguan_event.62
	title = gushuokguan_event.62.t
	desc = gushuokguan_event.62.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = gushuokguan_dao_claim
		any_claimed_province = {
			has_province_flag = gushuokguan_claimed_for_dao
			owner = { 
				OR = {
					NOT = { truce_with = ROOT }
					NOT = { war_with = ROOT } 
				}
			}
			NOT = { owned_by = ROOT }
		}
		has_country_flag = gushuokguan_enable_confederal_council
	}

	option = {
		name = gushuokguan_event.62.a
		ai_chance = { factor = 1 }
		event_target:dao_A = {
			add_liberty_desire = -10
			add_prestige = 20
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		event_target:dao_D = {
			add_liberty_desire = -10
			add_prestige = 20
			add_opinion = {
				who = PREV #Gushuokguan
				modifier = gushuokguan_council_tensions_positive_medium
			}
		}
		hidden_effect = {
			clear_global_event_target = dao_A
			clear_global_event_target = dao_D
			every_claimed_province = {
				limit = { has_province_flag = gushuokguan_claimed_for_dao }
				clr_province_flag = gushuokguan_claimed_for_dao
			}
			#Could clear the ones in my provinces, but I kinda deem those irrelevant
		}
	}
}

###Condottieri Sold Counter
#Apply
country_event = {
	id = gushuokguan_event.101
	title = gushuokguan_event.101.t
	desc = gushuokguan_event.101.d
	picture = CHINESE_GENERAL_eventPicture
	
	#I wish there was an on_action for hiring condotierri
	mean_time_to_happen = {
		days = 1
	}

	hidden = yes 

	trigger = {
		any_known_country = {
			ROOT = { is_renting_condottieri_to = PREV } #Gushuokguan
			NOT = { has_country_flag = gushuokguan_already_checked_condottieri }
		}
	}


	immediate = {
		random_known_country = {
			limit = {
				ROOT = { is_renting_condottieri_to = PREV } #Gushuokguan
				NOT = { has_country_flag = gushuokguan_already_checked_condottieri }
			}
			save_event_target_as = gushuokguan_tag_rented_condottieri
		}
	}
	
	option = {
		name = gushuokguan_event.101.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_tag_rented_condottieri = {
			set_country_flag = gushuokguan_already_checked_condottieri
		}
		change_variable = {
			which = gushuokguan_rented_condottieri_counter
			value = 1
		}
	}
}

#Strip
country_event = {
	id = gushuokguan_event.102
	title = gushuokguan_event.102.t
	desc = gushuokguan_event.102.d
	picture = CHINESE_GENERAL_eventPicture
	
	#There is no on_action for hiring condottieri, so I'm doing mtth for those.
	#okman, if you have a better idea on how to do execute this - PLEASE HELP
	mean_time_to_happen = {
		days = 1 
	}

	hidden = yes 

	trigger = {
		any_known_country = {
			NOT = { ROOT = { is_renting_condottieri_to = PREV } } #Gushuokguan
			has_country_flag = gushuokguan_already_checked_condottieri
		}
	}


	immediate = {
		random_known_country = {
			limit = {
				NOT = { ROOT = { is_renting_condottieri_to = PREV } } #Gushuokguan
				has_country_flag = gushuokguan_already_checked_condottieri
			}
			save_event_target_as = gushuokguan_tag_rented_condottieri
		}
	}
	
	option = {
		name = gushuokguan_event.102.a
		ai_chance = { factor = 1 }
		event_target:gushuokguan_tag_rented_condottieri = {
			clr_country_flag = gushuokguan_already_checked_condottieri
		}
	}
}