namespace = eordellon

#Funereal Season Honoring
country_event = {
	id = eordellon.1
	title = eordellon.1.t
	desc = eordellon.1.d
	picture = KING_SICK_IN_BED_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			religion = eordellon
			religion = spring_court
			religion = summer_court
			religion = autumn_court
			religion = winter_court
		}
		capital_scope = { superregion = eordand_superregion }
		NOT = { has_ruler_flag = eordan_funeral_regency } #so it doesn't trigger for regency ending
		NOT = { government = republic }
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { has_regency = yes }
				set_heir_flag = eordan_funeral_regency
			}
		}
	}
	
	option = { #Spring
		name = eordellon.1.a
		trigger = {
			OR = {
				religion = eordellon
				accepted_culture = selphereg
				primary_culture = selphereg
			}
		}
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 10
				religion = spring_court
			}
		}
		add_adm_power = 10
	}
	option = { #Summer
		name = eordellon.1.b
		trigger = {
			OR = {
				religion = eordellon
				accepted_culture = caamas
				primary_culture = caamas
			}
		}
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 10
				religion = summer_court
			}
		}
		add_dip_power = 10
	}
	option = { #Autumn
		name = eordellon.1.c
		trigger = {
			OR = {
				religion = eordellon
				accepted_culture = tuathak
				primary_culture = tuathak
			}
		}
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 10
				religion = autumn_court
			}
		}
		add_mil_power = 10
	}
	option = { #Winter
		name = eordellon.1.dd
		trigger = {
			OR = {
				religion = eordellon
				accepted_culture = snecboth
				primary_culture = snecboth
			}
		}
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 10
				religion = winter_court
			}
		}
		increase_legitimacy_small_effect = yes
	}
	option = { #Precursor
		name = eordellon.1.e
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 2
				religion = eordellon
			}
		}
		add_prestige = 5
		add_years_of_income = -0.05
	}
	
}

country_event = { #Shift in Seasons
	id = eordellon.2
	title = eordellon.2.t
	desc = eordellon.2.d
	picture = STREET_SPEECH_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			religion = eordellon
			religion = spring_court
			religion = summer_court
			religion = autumn_court
			religion = winter_court
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { 
					is_state = yes
					NOT = { is_capital = yes} 
				}
				save_event_target_as = fey_shift_seasons
				random_list = {
					20 = {
						trigger = { NOT = { religion = eordellon } }
						change_religion = eordellon
					}
					20 = {
						trigger = { NOT = { religion = spring_court } }
						change_religion = spring_court
					}
					20 = {
						trigger = { NOT = { religion = summer_court } }
						change_religion = summer_court
					}
					20 = {
						trigger = { NOT = { religion = autumn_court } }
						change_religion = autumn_court
					}
					20 = {
						trigger = { NOT = { religion = winter_court } }
						change_religion = winter_court
					}
				}
			}
			random_owned_province = {
				limit = { 
					is_state = yes
					NOT = { is_capital = yes} 
				}
				save_event_target_as = fey_shift_seasons
				random_list = {
					20 = {
						trigger = { NOT = { religion = eordellon } }
						change_religion = eordellon
					}
					20 = {
						trigger = { NOT = { religion = spring_court } }
						change_religion = spring_court
					}
					20 = {
						trigger = { NOT = { religion = summer_court } }
						change_religion = summer_court
					}
					20 = {
						trigger = { NOT = { religion = autumn_court } }
						change_religion = autumn_court
					}
					20 = {
						trigger = { NOT = { religion = winter_court } }
						change_religion = winter_court
					}
				}
			}
		}
	}
	
	option = {
		name = eordellon.2.a
		
		add_country_modifier = { name = "fey_alignment_shift_tolerance" duration = 3650 }
	}
	option = {
		name = eordellon.2.b
		
		if = {
			limit = { has_saved_event_target = fey_shift_seasons }
			event_target:fey_shift_seasons = {
				random_list = {
					30 = {
						spawn_rebels = {
							type = heretic_rebels
							size = 1
						}
					}
					70 = { }
				}
			}
		}
		add_country_modifier = { name = "fey_alignment_shift_convert" duration = 3650 }
	}
	
}


#Religious festival
country_event = {
	id = eordellon.3
	title = eordellon.3.t
	desc = {
		trigger = {
			OR = { 
				AND = {
					NOT = {
						AND = {
							has_country_flag = seasonal_adm_neutral_aspect
							has_country_flag = seasonal_dip_neutral_aspect
							has_country_flag = seasonal_mil_neutral_aspect
						}
					}
					OR = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_adm_spring_aspect
					}
					OR = {
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_dip_spring_aspect
					}
					OR = {
						has_country_flag = seasonal_mil_neutral_aspect
						has_country_flag = seasonal_mil_spring_aspect
					}
				}
				AND = {
					OR = {
						has_country_flag = seasonal_adm_winter_aspect
						has_country_flag = seasonal_dip_winter_aspect
						has_country_flag = seasonal_mil_winter_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_summer_aspect
						has_country_flag = seasonal_dip_summer_aspect
						has_country_flag = seasonal_mil_summer_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_autumn_aspect
						has_country_flag = seasonal_dip_autumn_aspect
						has_country_flag = seasonal_mil_autumn_aspect
					}
				}
			}
		}
		desc = eordellon.3.spring
	}
	desc = {
		trigger = {
			OR = { 
				AND = {
					NOT = {
						AND = {
							has_country_flag = seasonal_adm_neutral_aspect
							has_country_flag = seasonal_dip_neutral_aspect
							has_country_flag = seasonal_mil_neutral_aspect
						}
					}
					OR = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_adm_summer_aspect
					}
					OR = {
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_dip_summer_aspect
					}
					OR = {
						has_country_flag = seasonal_mil_neutral_aspect
						has_country_flag = seasonal_mil_summer_aspect
					}
				}
				AND = {
					OR = {
						has_country_flag = seasonal_adm_winter_aspect
						has_country_flag = seasonal_dip_winter_aspect
						has_country_flag = seasonal_mil_winter_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_spring_aspect
						has_country_flag = seasonal_dip_spring_aspect
						has_country_flag = seasonal_mil_spring_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_autumn_aspect
						has_country_flag = seasonal_dip_autumn_aspect
						has_country_flag = seasonal_mil_autumn_aspect
					}
				}
			}
		}
		desc = eordellon.3.summer
	}
	desc = {
		trigger = {
			OR = { 
				AND = {
					NOT = {
						AND = {
							has_country_flag = seasonal_adm_neutral_aspect
							has_country_flag = seasonal_dip_neutral_aspect
							has_country_flag = seasonal_mil_neutral_aspect
						}
					}
					OR = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_adm_autumn_aspect
					}
					OR = {
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_dip_autumn_aspect
					}
					OR = {
						has_country_flag = seasonal_mil_neutral_aspect
						has_country_flag = seasonal_mil_autumn_aspect
					}
				}
				AND = {
					OR = {
						has_country_flag = seasonal_adm_winter_aspect
						has_country_flag = seasonal_dip_winter_aspect
						has_country_flag = seasonal_mil_winter_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_spring_aspect
						has_country_flag = seasonal_dip_spring_aspect
						has_country_flag = seasonal_mil_spring_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_summer_aspect
						has_country_flag = seasonal_dip_summer_aspect
						has_country_flag = seasonal_mil_summer_aspect
					}
				}
			}
		}
		desc = eordellon.3.autumn
	}
	desc = {
		trigger = {
			OR = { 
				AND = {
					NOT = {
						AND = {
							has_country_flag = seasonal_adm_neutral_aspect
							has_country_flag = seasonal_dip_neutral_aspect
							has_country_flag = seasonal_mil_neutral_aspect
						}
					}
					OR = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_adm_winter_aspect
					}
					OR = {
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_dip_winter_aspect
					}
					OR = {
						has_country_flag = seasonal_mil_neutral_aspect
						has_country_flag = seasonal_mil_winter_aspect
					}
				}
				AND = {
					OR = {
						has_country_flag = seasonal_adm_summer_aspect
						has_country_flag = seasonal_dip_summer_aspect
						has_country_flag = seasonal_mil_summer_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_spring_aspect
						has_country_flag = seasonal_dip_spring_aspect
						has_country_flag = seasonal_mil_spring_aspect
					}
					OR = {
						has_country_flag = seasonal_adm_autumn_aspect
						has_country_flag = seasonal_dip_autumn_aspect
						has_country_flag = seasonal_mil_autumn_aspect
					}
				}
			}
		}
		desc = eordellon.3.winter
	}
	desc = {
		trigger = {
			OR = { 
				has_country_flag = seasonal_adm_eordellon_aspect
				has_country_flag = seasonal_dip_eordellon_aspect
				has_country_flag = seasonal_mil_eordellon_aspect
			}
		}
		desc = eordellon.3.eordellon
	}
	desc = {
		trigger = {
			OR = {
				AND = {
					has_country_flag = seasonal_adm_neutral_aspect
					has_country_flag = seasonal_dip_neutral_aspect
					has_country_flag = seasonal_mil_neutral_aspect
				}
				AND = {
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_neutral_aspect
								has_country_flag = seasonal_adm_spring_aspect
							}
							OR = {
								has_country_flag = seasonal_dip_neutral_aspect
								has_country_flag = seasonal_dip_spring_aspect
							}
							OR = {
								has_country_flag = seasonal_mil_neutral_aspect
								has_country_flag = seasonal_mil_spring_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_neutral_aspect
								has_country_flag = seasonal_adm_summer_aspect
							}
							OR = {
								has_country_flag = seasonal_dip_neutral_aspect
								has_country_flag = seasonal_dip_summer_aspect
							}
							OR = {
								has_country_flag = seasonal_mil_neutral_aspect
								has_country_flag = seasonal_mil_summer_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_neutral_aspect
								has_country_flag = seasonal_adm_autumn_aspect
							}
							OR = {
								has_country_flag = seasonal_dip_neutral_aspect
								has_country_flag = seasonal_dip_autumn_aspect
							}
							OR = {
								has_country_flag = seasonal_mil_neutral_aspect
								has_country_flag = seasonal_mil_autumn_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_neutral_aspect
								has_country_flag = seasonal_adm_winter_aspect
							}
							OR = {
								has_country_flag = seasonal_dip_neutral_aspect
								has_country_flag = seasonal_dip_winter_aspect
							}
							OR = {
								has_country_flag = seasonal_mil_neutral_aspect
								has_country_flag = seasonal_mil_winter_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_winter_aspect
								has_country_flag = seasonal_dip_winter_aspect
								has_country_flag = seasonal_mil_winter_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_summer_aspect
								has_country_flag = seasonal_dip_summer_aspect
								has_country_flag = seasonal_mil_summer_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_autumn_aspect
								has_country_flag = seasonal_dip_autumn_aspect
								has_country_flag = seasonal_mil_autumn_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_winter_aspect
								has_country_flag = seasonal_dip_winter_aspect
								has_country_flag = seasonal_mil_winter_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_spring_aspect
								has_country_flag = seasonal_dip_spring_aspect
								has_country_flag = seasonal_mil_spring_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_autumn_aspect
								has_country_flag = seasonal_dip_autumn_aspect
								has_country_flag = seasonal_mil_autumn_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_winter_aspect
								has_country_flag = seasonal_dip_winter_aspect
								has_country_flag = seasonal_mil_winter_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_spring_aspect
								has_country_flag = seasonal_dip_spring_aspect
								has_country_flag = seasonal_mil_spring_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_summer_aspect
								has_country_flag = seasonal_dip_summer_aspect
								has_country_flag = seasonal_mil_summer_aspect
							}
						}
					}
					NOT = {
						AND = {
							OR = {
								has_country_flag = seasonal_adm_autumn_aspect
								has_country_flag = seasonal_dip_autumn_aspect
								has_country_flag = seasonal_mil_autumn_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_spring_aspect
								has_country_flag = seasonal_dip_spring_aspect
								has_country_flag = seasonal_mil_spring_aspect
							}
							OR = {
								has_country_flag = seasonal_adm_summer_aspect
								has_country_flag = seasonal_dip_summer_aspect
								has_country_flag = seasonal_mil_summer_aspect
							}
						}
					}
				}
			}
		}
		desc = eordellon.3.default
	}
	picture = FEAST_eventPicture
	
	is_triggered_only = yes
	
	immediate = { hidden_effect = {
		#Seasonal combo
		#Spring
		if = {
			limit = {
				religion = spring_court
				NOT = {
					AND = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_mil_neutral_aspect
					}
				}
				OR = {
					has_country_flag = seasonal_adm_neutral_aspect
					has_country_flag = seasonal_adm_spring_aspect
				}
				OR = {
					has_country_flag = seasonal_dip_neutral_aspect
					has_country_flag = seasonal_dip_spring_aspect
				}
				OR = {
					has_country_flag = seasonal_mil_neutral_aspect
					has_country_flag = seasonal_mil_spring_aspect
				}
			}
			#Spring Combo
			add_or_extend_country_modifier = {
				name = eordand_spring_festival
				duration = 3650
			}
			random_owned_province = { 
				add_base_tax = 1 
				add_base_production = 1 
				add_base_manpower = 1 
			}
		}
		#summer
		if = {
			limit = {
				religion = summer_court
				NOT = {
					AND = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_mil_neutral_aspect
					}
				}
				OR = {
					has_country_flag = seasonal_adm_neutral_aspect
					has_country_flag = seasonal_adm_summer_aspect
				}
				OR = {
					has_country_flag = seasonal_dip_neutral_aspect
					has_country_flag = seasonal_dip_summer_aspect
				}
				OR = {
					has_country_flag = seasonal_mil_neutral_aspect
					has_country_flag = seasonal_mil_summer_aspect
				}
			}
			#summer Combo
			random_owned_area = { 
				limit = { is_territory = no }
				add_prosperity = 100
			} 
			add_years_of_trade_income = {
				years = 2
				custom_tooltip = eordellon.summer.festival.tooltip
			}
		}
		#autumn 
		if = {
			limit = {
				religion = autumn_court
				NOT = {
					AND = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_mil_neutral_aspect
					}
				}
				OR = {
					has_country_flag = seasonal_adm_neutral_aspect
					has_country_flag = seasonal_adm_autumn_aspect
				}
				OR = {
					has_country_flag = seasonal_dip_neutral_aspect
					has_country_flag = seasonal_dip_autumn_aspect
				}
				OR = {
					has_country_flag = seasonal_mil_neutral_aspect
					has_country_flag = seasonal_mil_autumn_aspect
				}
			}
			#autumn Combo
			add_yearly_manpower = 5 
		}
		#Winter
		if = {
			limit = {
				religion = winter_court
				NOT = {
					AND = {
						has_country_flag = seasonal_adm_neutral_aspect
						has_country_flag = seasonal_dip_neutral_aspect
						has_country_flag = seasonal_mil_neutral_aspect
					}
				}
				OR = {
					has_country_flag = seasonal_adm_neutral_aspect
					has_country_flag = seasonal_adm_winter_aspect
				}
				OR = {
					has_country_flag = seasonal_dip_neutral_aspect
					has_country_flag = seasonal_dip_winter_aspect
				}
				OR = {
					has_country_flag = seasonal_mil_neutral_aspect
					has_country_flag = seasonal_mil_winter_aspect
				}
			}
			#winter Combo
			add_stability = 1 
			add_war_exhaustion = -4 
		}
		#Eordellon combos
		#Spring
		if = {
			limit = {
				religion = eordellon
				OR = {
					has_country_flag = seasonal_adm_winter_aspect
					has_country_flag = seasonal_dip_winter_aspect
					has_country_flag = seasonal_mil_winter_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_summer_aspect
					has_country_flag = seasonal_dip_summer_aspect
					has_country_flag = seasonal_mil_summer_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_autumn_aspect
					has_country_flag = seasonal_dip_autumn_aspect
					has_country_flag = seasonal_mil_autumn_aspect
				}
			}
			#spring eordellon
			add_or_extend_country_modifier = {
				name = eordand_spring_festival
				duration = 3650
			}
		}
		#Summer
		if = {
			limit = {
				religion = eordellon
				OR = {
					has_country_flag = seasonal_adm_winter_aspect
					has_country_flag = seasonal_dip_winter_aspect
					has_country_flag = seasonal_mil_winter_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_spring_aspect
					has_country_flag = seasonal_dip_spring_aspect
					has_country_flag = seasonal_mil_spring_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_autumn_aspect
					has_country_flag = seasonal_dip_autumn_aspect
					has_country_flag = seasonal_mil_autumn_aspect
				}
			}
			#summer eordellon
			add_or_extend_country_modifier = {
				name = eordellon_summer_festival
				duration = 3650
			}
		}
		#Autumn
		if = {
			limit = {
				religion = eordellon
				OR = {
					has_country_flag = seasonal_adm_winter_aspect
					has_country_flag = seasonal_dip_winter_aspect
					has_country_flag = seasonal_mil_winter_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_spring_aspect
					has_country_flag = seasonal_dip_spring_aspect
					has_country_flag = seasonal_mil_spring_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_summer_aspect
					has_country_flag = seasonal_dip_summer_aspect
					has_country_flag = seasonal_mil_summer_aspect
				}
			}
			#autumn eordellon
			add_or_extend_country_modifier = {
				name = eordellon_autumn_festival
				duration = 3650
			}
		}
		#Winter
		if = {
			limit = {
				religion = eordellon
				OR = {
					has_country_flag = seasonal_adm_autumn_aspect
					has_country_flag = seasonal_dip_autumn_aspect
					has_country_flag = seasonal_mil_autumn_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_spring_aspect
					has_country_flag = seasonal_dip_spring_aspect
					has_country_flag = seasonal_mil_spring_aspect
				}
				OR = {
					has_country_flag = seasonal_adm_summer_aspect
					has_country_flag = seasonal_dip_summer_aspect
					has_country_flag = seasonal_mil_summer_aspect
				}
			}
			#winter eordellon
			add_or_extend_country_modifier = {
				name = eordellon_winter_festival
				duration = 3650
			}
		}
		#Individual aspect stuff
		#Neutral
		if = {
			limit = { has_church_aspect = mil_neutral_alseids }
			add_or_extend_country_modifier = {
				name = neutral_alseids_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_neutral_blinkdog }
			add_or_extend_country_modifier = {
				name = neutral_blinkdog_festival
				duration = 913
			}
		}
		if = {
			limit = { has_church_aspect = mil_neutral_boggles }
			add_or_extend_country_modifier = {
				name = neutral_boggles_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = dip_neutral_nymphs }
			add_or_extend_country_modifier = {
				name = neutral_nymphs_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = adm_neutral_fairies }
			add_years_of_income = 1
		}
		if = {
			limit = { has_church_aspect = dip_neutral_greatstag }
			add_or_extend_country_modifier = {
				name = neutral_greatstag_festival
				duration = 1825
			}
			add_prestige = 50
		}
		if = {
			limit = { has_church_aspect = adm_neutral_dryads }
			add_or_extend_country_modifier = {
				name = neutral_dryads_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = dip_neutral_satyrs }
			add_or_extend_country_modifier = {
				name = neutral_satyrs_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = dip_neutral_changelings }
			define_advisor = {
				type = random
				skill = 2
				female = yes
				discount = yes
			}
			
		}
		if = {
			limit = { has_church_aspect = adm_neutral_hags }
			if = { limit = { has_heir = yes }
				kill_heir = {}
			}
			else = {
				kill_ruler = yes
			}
			add_yearly_manpower = -5 
		}
		if = {
			limit = { has_church_aspect = adm_neutral_treants }
			add_or_extend_country_modifier = {
				name = neutral_treants_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_neutral_faeriedragons }
			add_or_extend_country_modifier = {
				name = neutral_faeriedragons_festival
				duration = 913
			}
		}
		#Summer
		if = {
			limit = { has_church_aspect = dip_summer_Nereid }
			add_years_of_trade_income = {
				years = 1
				custom_tooltip = eordellon.summer.festival.tooltip
			}
		}
		if = {
			limit = { has_church_aspect = adm_summer_brownies }
			add_or_extend_country_modifier = {
				name = summer_brownies_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_summer_fire_elemental }
			unlock_or_refresh_seasonal_mercs = {
				name = eordand_fire_elemental
			}
		}
		if = {
			limit = { has_church_aspect = mil_summer_kraken }
			create_flagship_with_modifications = {
				name = "Kraken"
				type = heavy_ship
				kraken = yes
			}
		}
		if = {
			limit = { has_church_aspect = dip_summer_drag_wave }
			add_or_extend_country_modifier = {
				name = summer_drag_wave_festival
				duration = 1825
			}
		}
		#Spring
		if = {
			limit = { has_church_aspect = dip_spring_naiad }
			add_or_extend_country_modifier = {
				name = spring_naiad_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_spring_living_mud }
			add_or_extend_country_modifier = {
				name = spring_living_mud_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = adm_spring_seedling }
			random_owned_area = { 
				limit = { is_territory = no }
				add_prosperity = 100
			} 
		}
		if = {
			limit = { has_church_aspect = adm_spring_queenbee }
			add_or_extend_country_modifier = {
				name = spring_queenbee_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_spring_storm_elemental }
			unlock_or_refresh_seasonal_mercs = {
				name = eordand_storm_elemental
			}
		}
		if = {
			limit = { has_church_aspect = dip_spring_morning_glory_vine }
			add_or_extend_country_modifier = {
				name = spring_morning_glory_festival
				duration = 1825
			}
			add_years_of_owned_provinces_production_income = {
				years = 3
				trigger = {
					trade_goods = incense
				}
				custom_tooltip = MONOPOLY_INCOME_INCENSE_DESC
			}
		}
		if = {
			limit = { has_church_aspect = adm_spring_old_man_archive }
			add_or_extend_country_modifier = {
				name = spring_old_man_festival
				duration = 1825
			}
			change_innovativeness = 10
		}
		#Winter
		if = {
			limit = { has_church_aspect = dip_winter_selkie }
			add_or_extend_country_modifier = {
				name = winter_selkie_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = dip_winter_snowballpixie }
			add_war_exhaustion = -2
		}
		if = {
			limit = { has_church_aspect = mil_winter_glacial_elemental }
			unlock_or_refresh_seasonal_mercs = {
				name = eordand_glacial_elemental
			}
		}
		if = {
			limit = { has_church_aspect = mil_winter_borealwolf }
			unlock_or_refresh_seasonal_mercs = {
				name = eordand_boreal_wolf
			}
		}
		if = {
			limit = { has_church_aspect = adm_winter_midwinterchef }
			add_or_extend_country_modifier = {
				name = winter_midwinterchef_festival
				duration = 1825
			}
			add_yearly_manpower = 1
		}
		if = {
			limit = { has_church_aspect = adm_winter_everfrost }
			add_or_extend_country_modifier = {
				name = winter_everfrost_festival
				duration = 1825
			}
			add_war_exhaustion = -5
		}
		if = {
			limit = { has_church_aspect = adm_winter_everfrost_upgrade }
			add_or_extend_country_modifier = {
				name = winter_everfrost_upgrade_festival
				duration = 1825
			}
			add_war_exhaustion = -10
		}
		#Autumn
		if = {
			limit = { has_church_aspect = dip_autumn_nereid }
			add_or_extend_country_modifier = {
				name = autumn_nereid_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = adm_autumn_brownies }
			add_or_extend_country_modifier = {
				name = autumn_brownies_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_autumn_redcap }
			unlock_or_refresh_seasonal_mercs = {
				name = eordand_autumn_redcap
			}
		}
		if = {
			limit = { has_church_aspect = adm_autumn_greatpumkin }
			add_or_extend_country_modifier = {
				name = autumn_pumpkin_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = dip_autumn_moldling }
			add_or_extend_country_modifier = {
				name = autumn_moldling_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_autumn_wildhunt }
			add_or_extend_country_modifier = {
				name = autumn_wildhunt_festival
				duration = 913
			}
		}
		if = {
			limit = { has_church_aspect = mil_autumn_gloamknight }
			random_list = {
				50 = {
					define_general = {
						shock = 10
						fire = 3
						manuever = 4
						siege = 2
						name = "The Gloam Knight"
						trait = glory_seeker_personality
					}
				}
				50 = {
					define_general = {
						shock = 10
						fire = 3
						manuever = 4
						siege = 2
						name = "The Gloam Knight"
						female = yes
						trait = glory_seeker_personality
					}
				}
			}
			
		}
		#Eordellon
		if = {
			limit = { has_church_aspect = dip_eordellon_naiad }
			add_or_extend_country_modifier = {
				name = eordellon_naiad_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_eordellon_redcap }
			unlock_or_refresh_seasonal_mercs = {
				name = eordand_eordellon_redcap
			}
		}
		if = {
			limit = { has_church_aspect = adm_eordellon_gladewarden }
			add_or_extend_country_modifier = {
				name = eordellon_gladewarden_festival
				duration = 1825
			}
		}
		if = {
			limit = { has_church_aspect = mil_eordellon_wildhunt }
			add_or_extend_country_modifier = {
				name = eordellon_wildhunt_festival
				duration = 913
			}
		}
		if = {
			limit = { has_church_aspect = adm_eordellon_uncrownedqueen }
			add_stability = 1 
			add_legitimacy = 20
			add_republican_tradition = 10
			add_devotion = 20
			add_horde_unity = 20
			add_meritocracy = 20 
		}
		#End of shared
	}}
	
	after = {
		clear_country_flag = seasonal_adm_spring_aspect
		clear_country_flag = seasonal_adm_summer_aspect
		clear_country_flag = seasonal_adm_autumn_aspect
		clear_country_flag = seasonal_adm_winter_aspect
		clear_country_flag = seasonal_adm_neutral_aspect
		clear_country_flag = seasonal_adm_eordellon_aspect
		clear_country_flag = seasonal_dip_spring_aspect
		clear_country_flag = seasonal_dip_summer_aspect
		clear_country_flag = seasonal_dip_autumn_aspect
		clear_country_flag = seasonal_dip_winter_aspect
		clear_country_flag = seasonal_dip_neutral_aspect
		clear_country_flag = seasonal_dip_eordellon_aspect
		clear_country_flag = seasonal_mil_spring_aspect
		clear_country_flag = seasonal_mil_summer_aspect
		clear_country_flag = seasonal_mil_autumn_aspect
		clear_country_flag = seasonal_mil_winter_aspect
		clear_country_flag = seasonal_mil_neutral_aspect
		clear_country_flag = seasonal_mil_eordellon_aspect
		
		remove_church_aspect = random
		remove_church_aspect = random
		remove_church_aspect = random
	}
	
	option = {
		name = eordellon.3.a
	}
}
#Mission menu
country_event = {
	id = eordellon.4
	title = eordellon.4.t
	desc = eordellon.4.d
	picture = BLANK_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		potential = {
			NOT = { has_country_flag = seasonal_objective_one }
			NOT = { current_income_balance = 50 }
		}
		name = eordellon.4.generic.one.incomplete
	}
	option = {
		highlight = yes
		potential = {
			NOT = { has_country_flag = seasonal_objective_one }
			current_income_balance = 50
		}
		name = eordellon.4.generic.one.complete
		add_treasury = -50
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_one
	}
	option = {
		potential = {
			NOT = { has_country_flag = seasonal_objective_two }
			OR = {
				2049 = {
					NOT = { owned_by = ROOT }
				}
				exist = H08
			}
		}
		goto = 2049
		name = eordellon.4.generic.two.incomplete
	}
	option = {
		highlight = yes
		potential = {
			NOT = { has_country_flag = seasonal_objective_two }
			NOT = { exist = H08 }
			2049 = {
				owned_by = ROOT
			}
		}
		name = eordellon.4.generic.two.complete
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_two
	}
	option = {
		name = eordellon.4.eordellon.one.incomplete
		potential = {
			religion=eordellon
			NOT = { has_country_flag = seasonal_objective_three }
			OR = {
				1775 = {
					NOT = { owned_by = ROOT }
				}
				2007 = {
					NOT = { owned_by = ROOT }
				}
				2037 = {
					NOT = { owned_by = ROOT }
				}
				2159 = {
					NOT = { owned_by = ROOT }
				}
			}
		}
	}
	option = {
		name = eordellon.4.eordellon.one.complete
		highlight = yes
		potential = {
			religion=eordellon
			NOT = { has_country_flag = seasonal_objective_three }
			1775 = {
				owned_by = ROOT
			}
			2007 = {
				owned_by = ROOT
			}
			2037 = {
				owned_by = ROOT
			}
			2159 = {
				owned_by = ROOT
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_three
	}
	option = {
		name = eordellon.4.eordellon.two.incomplete
		potential = {
			religion=eordellon
			NOT = { has_country_flag = seasonal_objective_four }
			NOT = {
				calc_true_if = {
					any_owned_province = {
						religion = eordellon
						OR = {
							superregion = ynn_superregion  
							superregion = deepwoods_superregion  
						}
					}
					amount = 5
				}
			}
		}
	}
	option = {
		name = eordellon.4.eordellon.two.complete
		highlight = yes
		potential = {
			religion = eordellon
			NOT = { has_country_flag = seasonal_objective_four }
			calc_true_if = {
				any_owned_province = {
					religion = eordellon
					OR = {
						superregion = ynn_superregion  
						superregion = deepwoods_superregion   
					}
				}
				amount = 5
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_four
	}
	option = {
		name = eordellon.4.spring.one.incomplete
		potential = {
			religion = spring_court
			NOT = { has_country_flag = seasonal_objective_three }
			NOT = {
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 8
					trade_goods = precursor_relics 
				}
			}
		}
	}
	option = {
		name = eordellon.4.spring.one.complete
		highlight = yes
		potential = {
			religion = spring_court
			NOT = { has_country_flag = seasonal_objective_three }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				trade_goods = precursor_relics 
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_three
	}
	option = {
		name = eordellon.4.spring.two.incomplete
		potential = {
			religion = spring_court
			NOT = { has_country_flag = seasonal_objective_four }
			NOT = {
				trade_goods_produced_amount = {
					trade_goods = grain
					amount = 30
				}
			}
		}
	}
	option = {
		name = eordellon.4.spring.two.complete
		potential = {
			religion = spring_court
			NOT = { has_country_flag = seasonal_objective_four }
			trade_goods_produced_amount = {
				trade_goods = grain
				amount = 30
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_four

	}
	option = {
		name = eordellon.4.summer.one.incomplete
		potential = {
			religion = summer_court
			NOT = { has_country_flag = seasonal_objective_three }
			NOT = {
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 5
					region = haraf_region
				}
			}
		}
	}
	option = {
		name = eordellon.4.summer.one.complete
		highlight = yes
		potential = {
			religion = summer_court
			NOT = { has_country_flag = seasonal_objective_three }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				region = haraf_region
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_three
	}
	option = {
		name = eordellon.4.summer.two.incomplete
		potential = {
			religion = summer_court
			NOT = { has_country_flag = seasonal_objective_four }
			NOT = {
				num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
					value = 5
					NOT = {
						OR = {
							superregion = ynn_superregion  
							superregion = deepwoods_superregion  
							region = haraf_region
							superregion = broken_lands_superregion 
							superregion = eordand_superregion 
						}
					}
				}
			}
		}
	}
	option = {
		name = eordellon.4.summer.two.complete
		potential = {
			religion = summer_court
			NOT = { has_country_flag = seasonal_objective_four }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				NOT = {
					OR = {
						superregion = ynn_superregion  
						superregion = deepwoods_superregion  
						region = haraf_region
						superregion = broken_lands_superregion  
						superregion = eordand_superregion 
					}
				}
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_four

	}
	option = {
		name = eordellon.4.autumn.one.incomplete
		potential = {
			religion=autumn_court
			NOT = { has_country_flag = seasonal_objective_three }
			OR = {
				any_known_country = {
					religion = winter_court
				}
				AND = {
					eordand_superregion = {
						type = all
						OR = {
							is_city = no
							religion = winter_court
						}
					}
					NOT = { winter_court = 2 }
				}
			}
			
		}
	}
	option = {
		name = eordellon.4.autumn.one.complete
		highlight = yes
		potential = {
			religion=autumn_court
			NOT = { has_country_flag = seasonal_objective_three }
			NOT = {
				any_known_country = {
					religion = winter_court
				}
			}
			OR = {
				NOT = {
					eordand_superregion = {
						OR = {
							is_city = no
							religion = winter_court
						}
					}
				}
				winter_court = 2
			}
			
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_three
	}
	option = {
		name = eordellon.4.autumn.two.incomplete
		potential = {
			religion=autumn_court
			NOT = { has_country_flag = seasonal_objective_four }
			NOT = {
				any_known_country = {
					capital_scope = {
						continent = europe 
					}
					ROOT = {
						has_won_war_against = {
						  who = PREV
						  max_years_since = 20
						}
					}
				}
			}
			
		}
	}
	option = {
		name = eordellon.4.autumn.two.complete
		highlight = yes
		potential = {
			religion = autumn_court
			NOT = { has_country_flag = seasonal_objective_four }
			any_known_country = {
				capital_scope = {
					continent = europe 
				}
				ROOT = {
					has_won_war_against = {
					  who = PREV
					  max_years_since = 20
					}
				}
			}
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_four
	}
		option = {
		name = eordellon.4.winter.one.incomplete
		potential = {
			religion = winter_court
			NOT = { has_country_flag = seasonal_objective_three }
			OR = {
				any_known_country = {
					religion = autumn_court
				}
				AND = {
					eordand_superregion = {
						type = all
						OR = {
							is_city = no
							religion = autumn_court
						}
					}
					NOT = { autumn_court = 2 }
				}
			}
			
		}
	}
	option = {
		name = eordellon.4.winter.one.complete
		highlight = yes
		potential = {
			religion = winter_court
			NOT = { has_country_flag = seasonal_objective_three }
			NOT = {
				any_known_country = {
					religion = autumn_court
				}
			}
			OR = {
				NOT = {
					eordand_superregion = {
						OR = {
							is_city = no
							religion = autumn_court
						}
					}
				}
				autumn_court = 2
			}
			
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_three
	}
	option = {
		name = eordellon.4.winter.two.incomplete
		potential = {
			religion = winter_court
			NOT = { has_country_flag = seasonal_objective_four }
			OR = {
				NOT = { num_accepted_cultures = 3 }
				NOT = { government_rank = 3 }
			}
		}
	}
	option = {
		name = eordellon.4.winter.two.complete
		highlight = yes
		potential = {
			religion = winter_court
			NOT = { has_country_flag = seasonal_objective_four }
			num_accepted_cultures = 3
			government_rank = 3
		}
		upgrade_seasonal_court_level = yes
		set_country_flag = seasonal_objective_four
	}
	option = {
		name = eordellon.4.anymore.unlock
		potential = {
			OR = {
				NOT = { has_country_flag = spring_influencer_unlocked }
				NOT = { has_country_flag = eordellon_influencer_unlocked }
				NOT = { has_country_flag = summer_influencer_unlocked }
				NOT = { has_country_flag = autumn_influencer_unlocked }
				NOT = { has_country_flag = winter_influencer_unlocked }
			}
		}
	}
	option = {
		name = eordellon.4.eordellon.unlock
		potential = {
			NOT = { has_country_flag = eordellon_influencer_unlocked }
			NOT = {
				any_known_country = {
					religion = eordellon
				}
			}
			OR = {
				NOT = {
					eordand_superregion = {
						OR = {
							is_city = no
							religion = eordellon
						}
					}
				}
				eordellon = 2
			}
		}
		set_country_flag = eordellon_influencer_unlocked
	}
	option = {
		name = eordellon.4.spring.unlock
		potential = {
			NOT = { has_country_flag = spring_influencer_unlocked }
			NOT = {
				any_known_country = {
					religion = spring_court
				}
			}
			OR = {
				NOT = {
					eordand_superregion = {
						OR = {
							is_city = no
							religion = spring_court
						}
					}
				}
				spring_court = 2
			}
		}
		set_country_flag = spring_influencer_unlocked
	}
	option = {
		name = eordellon.4.summer.unlock
		potential = {
			NOT = { has_country_flag = summer_influencer_unlocked }
			NOT = {
				any_known_country = {
					religion = summer_court
				}
			}
			OR = {
				NOT = {
					eordand_superregion = {
						OR = {
							is_city = no
							religion = summer_court
						}
					}
				}
				summer_court = 2
			}
		}
		set_country_flag = summer_influencer_unlocked
	}
	option = {
		name = eordellon.4.autumn.unlock
		potential = {
			NOT = { has_country_flag = autumn_influencer_unlocked }
			NOT = {
				any_known_country = {
					religion = autumn_court
				}
			}
			OR = {
				AND = {
					NOT = {
						eordand_superregion = {
							OR = {
								is_city = no
								religion = autumn_court
							}
						}
					}
					NOT = { religion = winter_court }
				}
				autumn_court = 2
			}
		}
		set_country_flag = autumn_influencer_unlocked
	}
	option = {
		name = eordellon.4.winter.unlock
		potential = {
			NOT = { has_country_flag = winter_influencer_unlocked }
			NOT = {
				any_known_country = {
					religion = winter_court
				}
			}
			OR = {
				AND = {
					NOT = {
						eordand_superregion = {
							OR = {
								is_city = no
								religion = winter_court
							}
						}
					}
					NOT = { religion = autumn_court }
				}
				winter_court = 2
			}
		}
		set_country_flag = winter_influencer_unlocked
	}
	option = {
		name = eordellon.4.exit
	}
	
}
#Start up event
country_event = {
	id = eordellon.5
	title = eordellon.5.t
	desc = eordellon.5.d
	picture = BLANK_eventPicture
	
	is_triggered_only = yes
	trigger = {
		OR = {
			religion = eordellon
			religion = spring_court
			religion = summer_court
			religion = autumn_court
			religion = winter_court
		}
	}
	
	immediate = {
		hidden_effect = {
			add_country_modifier = { 
				name = seasonal_court_level_zero
				duration = -1  
			}
			if = {
				limit = { religion = eordellon }
				set_country_flag = eordellon_influencer_unlocked
			}
			else_if = {
				limit = { religion = spring_court }
				set_country_flag = spring_influencer_unlocked
			}
			else_if = {
				limit = { religion = summer_court }
				set_country_flag = summer_influencer_unlocked
			}
			else_if = {
				limit = { religion = autumn_court }
				set_country_flag = autumn_influencer_unlocked
			}
			else_if = {
				limit = { religion = winter_court }
				set_country_flag = winter_influencer_unlocked
			}
			if = {
				limit = { tag = H08 }
				set_country_flag = seasonal_objective_two
				upgrade_seasonal_court_level = yes
			}
		}
	}	
	option = {
		name = eordellon.5.a
	}
}

#Embassy