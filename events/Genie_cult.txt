namespace = genie_cult

# Genie cult power gain
country_event = {
	id = genie_cult.1
	title = genie_cult.1.t
	desc = genie_cult.1.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		religion = genie_cult
	}
	
	option = {
		name = genie_cult.1.a
		
		clr_country_flag = genie_cult_power_gain_flag
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = genie_cult_power_counter
						value = 10
					}
				}
			}
			change_variable = {
				which = genie_cult_power_counter
				value = 1
			}
		}
		country_event = {
			id = genie_cult.2
			days = 1094
		}
	}
}

country_event = {
	id = genie_cult.2
	title = genie_cult.2.t
	desc = genie_cult.2.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		religion = genie_cult
	}

	option = {
		name = genie_cult.2.a
		
		set_country_flag = genie_cult_power_gain_flag
		capital_scope = {
			add_province_triggered_modifier = genie_cult_power_gain
		}
	}
}

#Genie Cult Power Menu
country_event = {
	id = genie_cult.3
	title = genie_cult.3.t
	desc = genie_cult.3.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	is_triggered_only = yes

	option = {
		name = genie_cult.3.a
		country_event = {
			id = genie_cult.4
		}
	}

	option = {
		name = genie_cult.3.b
		country_event = {
			id = genie_cult.5
		}
	}

	option = {
		name = genie_cult.3.c
		country_event = {
			id = genie_cult.6
		}
	}

	option = {
		name = genie_cult.3.dd
		country_event = {
			id = genie_cult.7
		}
	}

	option = {
		name = genie_cult.3.e
		clr_country_flag = genie_cult_power_menu_open
	}
}

#Power Incantations (Cost 1)
country_event = {
	id = genie_cult.4
	title = genie_cult.4.t
	desc = genie_cult.4.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	is_triggered_only = yes

	option = {
		name = genie_cult.4.a
		add_country_modifier = {
			name = warmth_of_life
			duration = 1825
		}
	}

	option = {
		name = genie_cult.4.b
		add_country_modifier = {
			name = guiding_sands
			duration = 1825
		}
	}

	option = {
		name = genie_cult.4.c
		country_event = {
			id = genie_cult.3
		}
	}
}

#Charge Incantations (Cost 2)
country_event = {
	id = genie_cult.5
	title = genie_cult.5.t
	desc = genie_cult.5.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	is_triggered_only = yes

	option = {
		name = genie_cult.5.a
		add_country_modifier = {
			name = lightrocks
			duration = 1825
		}
	}

	option = {
		name = genie_cult.5.b
		add_country_modifier = {
			name = armor_off
			duration = 1825
		}
	}

	option = {
		name = genie_cult.5.c
		add_country_modifier = {
			name = battle_fervor
			duration = 1825
		}
	}

	option = {
		name = genie_cult.5.dd
		country_event = {
			id = genie_cult.3
		}
	}
}

#Charge Incantations (Cost 3)
country_event = {
	id = genie_cult.6
	title = genie_cult.6.t
	desc = genie_cult.6.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = { is_capital_of = ROOT }
					development = 11
				}
				save_event_target_as = emerald_splash_target
			}
		}
	}

	option = {
		name = genie_cult.6.a
		add_country_modifier = {
			name = perfection_of_home
			duration = 1825
		}
	}

	option = {
		name = genie_cult.6.b
		if = {
			limit = { has_saved_event_target = emerald_splash_target }
			event_target:emerald_splash_target = {
				add_base_tax = -1
				add_base_production = -1
				add_base_manpower = -1
				random_list = {
					1 = {
						change_trade_goods = gems
					}
					19 = {
					}
				}
			}
			add_years_of_income = 0.5
		}
		else = {
			custom_tooltip = emeral_splash_tt
		}
	}

	option = {
		name = genie_cult.6.c
		add_country_modifier = {
			name = blaze_of_glory
			duration = 1825
		}
	}

	option = {
		name = genie_cult.6.dd
	}

	option = {
		name = genie_cult.6.e
	}

	option = {
		name = genie_cult.6.f
		add_country_modifier = {
			name = holy_winds
			duration = 1825
		}
	}

	option = {
		name = genie_cult.6.g
		add_country_modifier = {
			name = restoration_of_fallen_crafts
			duration = 3650
		}
	}

	option = {
		name = genie_cult.6.h
	}

	option = {
		name = genie_cult.6.i
		country_event = {
			id = genie_cult.3
		}
	}
}

#Charge Incantations (Cost 4)
country_event = {
	id = genie_cult.7
	title = genie_cult.7.t
	desc = genie_cult.7.d
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	is_triggered_only = yes

	option = {
		name = genie_cult.7.a
	}

	option = {
		name = genie_cult.7.b
	}

	option = {
		name = genie_cult.7.c
	}

	option = {
		name = genie_cult.7.dd
	}

	option = {
		name = genie_cult.7.e
	}

	option = {
		name = genie_cult.7.f
	}

	option = {
		name = genie_cult.7.g
	}

	option = {
		name = genie_cult.7.h
	}

	option = {
		name = genie_cult.7.i
	}

	option = {
		name = genie_cult.7.j
	}

	option = {
		name = genie_cult.7.k
	}

	option = {
		name = genie_cult.7.l
	}

	option = {
		name = genie_cult.7.m
		country_event = {
			id = genie_cult.3
		}
	}
}