
inform_harmonized_target = {
    # Fires "harmonization done" events
	# done in this scripted effect in order to guarantee passing on the event target
	# supports any harmonized religion
	# to add a new religion that uses harmony mechanic, add a [[X_event]] block


    #harmonizing a religion for your own group = it targets the religion
	[[target_same_group]
    random_owned_province = {
        limit = {
            OR = {
				religion = $target_same_group$
			}
        }
        save_event_target_as = harmonized_target
    }
	]
	# log = "logging 1 [harmonized_target.GetName]"
	[[target_different_group]
	#harmonizing a religion from a different group = it targets the group
        random_owned_province = {
            limit = {
                OR = {
	    			religion_group = $target_different_group$
	    		}
            }
            save_event_target_as = harmonized_target
        }
	]
	# log = "logging 2 [harmonized_target.GetName]"
    [[thought_event]
	    country_event = { id = $thought_event$ }
	]
    [[kalyin_event]
        country_event = { id = $kalyin_event$ }
	]
}

harmonize_modifier_tt = {
	# find the appropriate harmonization modifier based on the
    # event target set by inform_harmonized_target
	tooltip = {
		if = {
			# harmonizing same religious group
			limit = { event_target:harmonized_target = { religion_group = $own_religious_group$ } }
			# religion_group = faithless
			if = {
				limit = { event_target:harmonized_target = { religion = kheionism } }
				add_country_modifier = {
					name = harmonized_kheionism
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion = godlost } }
				add_country_modifier = {
					name = harmonized_godlost
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion = black_doctrine } }
				add_country_modifier = {
					name = harmonized_black_doctrine
					duration = -1
				}
			}
			# religion_group = triunic_lake
			else_if = {
				limit = { event_target:harmonized_target = { religion = kodave_followers } }
				add_country_modifier = {
					name = harmonized_kodave
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion = yukel_followers } }
				add_country_modifier = {
					name = harmonized_yukel
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion = enuuk_followers } }
				add_country_modifier = {
					name = harmonized_enuuk
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion = kukatodic_religion } }
				add_country_modifier = {
					name = harmonized_kukatodic_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion = yudunyovi } }
				add_country_modifier = {
					name = harmonized_yudunyovi
					duration = -1
				}
			}
		}
		else = {
			# harmonizing different religious group
			if = {
				limit = { event_target:harmonized_target = { religion_group = giantkin } }
				add_country_modifier = {
					name = harmonized_giantkin
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = cannorian } }
				add_country_modifier = {
					name = harmonized_cannorian
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = bulwari } }
				add_country_modifier = {
					name = harmonized_bulwari
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = goblin } }
				add_country_modifier = {
					name = harmonized_goblin
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = khetist } }
				add_country_modifier = {
					name = harmonized_khetist
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = raheni } }
				add_country_modifier = {
					name = harmonized_raheni
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = gnollish } }
				add_country_modifier = {
					name = harmonized_gnollish
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = dwarven } }
				add_country_modifier = {
					name = harmonized_dwarven
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = elven } }
				add_country_modifier = {
					name = harmonized_elven
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = gerudian } }
				add_country_modifier = {
					name = harmonized_gerudian
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = orcish } }
				add_country_modifier = {
					name = harmonized_orcish
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = dragon_cult } }
				add_country_modifier = {
					name = harmonized_dragon_cult
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = aelantiri } }
				add_country_modifier = {
					name = harmonized_aelantiri
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = harpy_cults } }
				add_country_modifier = {
					name = harmonized_harpy_cults
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = cheshoshi_religion } }
				add_country_modifier = {
					name = harmonized_cheshoshi_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = harafic } }
				add_country_modifier = {
					name = harmonized_harafic
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = effelai } }
				add_country_modifier = {
					name = harmonized_effelai
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = taychendi } }
				add_country_modifier = {
					name = harmonized_taychendi
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = ynnic } }
				add_country_modifier = {
					name = harmonized_ynnic
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = devandi } }
				add_country_modifier = {
					name = harmonized_devandi
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = fey_religion } }
				add_country_modifier = {
					name = harmonized_fey_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = centaur_religion } }
				add_country_modifier = {
					name = harmonized_centaur_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = triunic_lake } }
				add_country_modifier = {
					name = harmonized_triunic
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = giantkin } }
				add_country_modifier = {
					name = harmonized_giantkin
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = halessi } }
				add_country_modifier = {
					name = harmonized_halessi
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = supreme_spirit } }
				add_country_modifier = {
					name = harmonized_supreme_spirit
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = hag_religion } }
				add_country_modifier = {
					name = harmonized_hag_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = tanibic_religion } }
				add_country_modifier = {
					name = harmonized_tanibic_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = lizardfolk_religion } }
				add_country_modifier = {
					name = harmonized_lizardfolk_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = east_sarhal_religion } }
				add_country_modifier = {
					name = harmonized_east_sarhal_religion
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = eltibhen_religion } }
				add_country_modifier = {
					name = harmonized_eltibhen
					duration = -1
				}
			}
			else_if = {
				limit = { event_target:harmonized_target = { religion_group = faithless } }
				add_country_modifier = {
					name = harmonized_faithless
					duration = -1
				}
			}
		}
	}
}