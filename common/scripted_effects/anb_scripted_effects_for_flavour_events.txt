tolerance_generic_1_effect = {
	medium_decrease_of_$race$_tolerance_effect = yes
	if = {
		limit = {
			low_tolerance_$race$_race_trigger = yes
		}
		hidden_effect = {
			country_event = {
				id = tolerance_generic.2
				days = 60
			}
			set_country_flag = mob_$race$
			random_owned_province = {
				limit = {
					has_$race$_minority_trigger = yes
				}
				set_province_flag = mob_province
			}
		}
	}
}

tolerance_generic_2_effect = {
	random_owned_province = {
		limit = { has_province_flag = mob_province }
		remove_$race$_minority_size_effect = yes
		clr_province_flag = mob_province
		add_devastation = 15
		}
	large_decrease_of_$race$_tolerance_effect = yes
}

tolerance_generic_3_effect = {
	hidden_effect = {
		set_variable = {
			which = $varname$
			value = 0
		}
		every_owned_province = {
			limit = { fast_has_pop_of_race = { race = $race$ } }  
			if = {
				limit = {
					owner = { PREV = { has_$race$_majority_trigger = yes } }		#without this change of scope log is angry
				}
				ROOT = {
					change_variable = {
						which = $varname$
						value = 30
					}
				}
			}
			if = {
				limit = { 
					owner = { PREV = { has_small_$race$_minority_trigger = yes } }
				}	
				ROOT = {
					change_variable = {
						which = $varname$
						value = 10
					}
				}
			}
			if = {
				limit = { 
					owner = { PREV = { has_large_$race$_minority_trigger = yes } }
				}
				ROOT = {
					change_variable = {
						which = $varname$
						value = 20
					}
				}
			}
		}
		export_to_variable = {
			which = tolgen3_moneycap
			value = years_of_income
		}
		round_variable = {
			which = tolgen3_moneycap
			value = 0
		}
		if = {
			limit = {
				check_variable = {
					which = $varname$
					which = tolgen3_moneycap
				}
			}
			set_variable = {
				which = $varname$
				which = tolgen3_moneycap
			}
		}
	}
}

tolerance_generic_3.2_effect = {
	custom_tooltip = tolerance_generic.3.$varname$.tt
	hidden_effect = {
		var_effect = { effect = add_treasury var = $varname$ sign = + }
	}
	medium_decrease_of_$race$_tolerance_effect = yes	
}

tolerance_generic_4_effect = {
	event_target:settlers_destinations = {
		add_colonysize = 100
		add_province_modifier = {
			name = smallfolk_migration
			duration = 3650
		}
		custom_tooltip = add_$race$_minority_size_effect_tooltip
		hidden_effect = {
			add_minority_with_correct_tolerance = { race = $race$ size = large}
			random = {
				chance = 30
				change_culture = event_target:$race$_origin
				change_religion = event_target:$race$_origin
			}
		}
	}
}