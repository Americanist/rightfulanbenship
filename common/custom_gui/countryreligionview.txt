custom_button = {
    name = swap_deity_button
    potential = {
    	OR = {
    		religion = regent_court
    		religion = infernal_court
    	}
    	OR = {
    		#Regent Court
    		has_personal_deity = castellos
			has_personal_deity = lightfather
    		has_personal_deity = the_dame
    		has_personal_deity = corin
    		has_personal_deity = adean
    		has_personal_deity = adean_upgraded_admin
    		has_personal_deity = adean_upgraded_war
    		has_personal_deity = munas_moonsinger
    		has_personal_deity = munas_upgraded
    		has_personal_deity = ara
    		has_personal_deity = balgar
    		has_personal_deity = balgar_upgraded
    		has_personal_deity = esmaryal
    		has_personal_deity = ryala
    		has_personal_deity = ryala_upgraded
    		has_personal_deity = minara
    		has_personal_deity = falah
    		has_personal_deity = falah_upgraded
    		has_personal_deity = nerat
    		has_personal_deity = nathalyne
    		has_personal_deity = begga
			has_personal_deity = begga_upgraded
    		has_personal_deity = dookan

    		#Infernal Court
    		has_personal_deity = kazraiel
			has_personal_deity = hedine
    		has_personal_deity = forsara
    		has_personal_deity = ibberal
    		has_personal_deity = ildran
    		has_personal_deity = mesner
    		has_personal_deity = canturian
    	}
    }
    trigger = {
    	if = {
    		limit = { religion = regent_court }
    		custom_trigger_tooltip = {
				tooltip = swap_deity_tt_2
				OR = {
					NOT = { has_country_flag = regent_court_deity_switch_cooldown }
					had_country_flag = {
						flag = regent_court_deity_switch_cooldown
						days = 3500
					}
				}
			}
    	}
    	else_if = {
    		limit = { religion = infernal_court }
    		custom_trigger_tooltip = {
				tooltip = swap_deity_tt_2
				OR = {
					NOT = { has_country_flag = infernal_court_deity_switch_cooldown }
					had_country_flag = {
						flag = infernal_court_deity_switch_cooldown
						days = 3500
					}
				}
			}
    	}
		has_regency = no
		hidden_trigger = {
			NOT = {
				has_country_flag = regent_court_menu_open
				has_country_flag = infernal_court_menu_open
			}
		}
    }
    effect = {
    	hidden_effect = {
    		if = {
    			limit = { religion = regent_court }
    			country_event = { id = regent_court.2 }
    		}
    		else_if = {
    			limit = { religion = infernal_court }
    			country_event = { id = infernal_events.17 }
    		}
    	}
    }
    tooltip = swap_deity_tt
}

custom_button = {
	name = shadow_pact_reroll_portent
	tooltip = shadow_pact_reroll_portent_tt
	potential = {
		religion = shadow_pact
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = shadow_pact_can_reroll_portent_tt
			shadow_pact_can_reroll = yes
		}
	}
	effect = {
		hidden_effect = {
			country_event = {
				id = shadow_pact.2
			}
		}
	}
}

custom_icon = {
    name = secondary_religion_blocked_steward
    potential = {
		is_emperor_of_china = yes
		religion = the_hunt
		
	}
	tooltip = secondary_religion_change_blocked_steward_tooltip
}

custom_button = {
	name = xhazobkult_light_the_pyres
	tooltip = xhazobkult_light_the_pyres_tt
	potential = { religion = xhazobkult }
	trigger = {		
		any_owned_province = {
			AND = {
				NOT = { religion = xhazobkult }
				base_tax = 2
				base_production = 2
				base_manpower = 2
			}			
		}
		custom_trigger_tooltip = {
			tooltip = xhazobkult_light_the_pyres_cooldown_tt
			OR = {
				had_country_flag = {
					flag = xhazobkult_light_the_pyres_cooldown
					days = 365
				}
				NOT = { has_country_flag = xhazobkult_light_the_pyres_cooldown }
			}				
		}
	}
	effect = { 
		random_owned_province = {
			limit = {
				AND = {
					NOT = { religion = xhazobkult }
					base_tax = 2
					base_production = 2
					base_manpower = 2
				}	
			}
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		add_patriarch_authority = 0.05
		clr_country_flag = xhazobkult_light_the_pyres_cooldown
		set_country_flag = xhazobkult_light_the_pyres_cooldown
	}
}